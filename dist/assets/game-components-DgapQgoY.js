var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;import{r as n,B as o,C as c,S as d,R as m,Z as u,H as x,a as p,b as h,c as y,P as g,d as b,e as f,f as w,X as j,G as N,g as v,h as A}from"./ui-vendor-BuVqD6Vx.js";import{r as k}from"./react-vendor-DEQ385Nk.js";var M,F,q={exports:{}},W={};var S=(F||(F=1,q.exports=function(){if(M)return W;M=1;var e=k(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,i){var n,o={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)s.call(r,n)&&!l.hasOwnProperty(n)&&(o[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===o[n]&&(o[n]=r[n]);return{$$typeof:t,type:e,key:c,ref:d,props:o,_owner:a.current}}return W.Fragment=r,W.jsx=i,W.jsxs=i,W}()),q.exports);const C=(e,t,r)=>{const s=(e=>e?{rarity:{common:"text-gray-300 font-normal",rare:"text-cyan-300 font-medium",epic:"text-indigo-300 font-semibold",legendary:"text-amber-300 font-bold",mythical:"text-pink-300 font-black"},rarityBorder:{common:"border-gray-400 border-solid",rare:"border-cyan-400 border-dashed",epic:"border-indigo-400 border-dotted",legendary:"border-amber-400 border-double",mythical:"border-pink-400 border-4"},rarityBg:{common:"bg-gray-800/40",rare:"bg-cyan-900/40",epic:"bg-indigo-900/40",legendary:"bg-amber-900/40",mythical:"bg-pink-900/40"},health:{high:"bg-slate-400",medium:"bg-slate-500",low:"bg-slate-700"},ui:{success:"text-slate-300",warning:"text-slate-400",error:"text-slate-500",info:"text-slate-200"}}:{rarity:{common:"text-gray-400",rare:"text-blue-400",epic:"text-purple-400",legendary:"text-yellow-400",mythical:"text-red-600"},rarityBorder:{common:"border-gray-400",rare:"border-blue-400",epic:"border-purple-400",legendary:"border-yellow-400",mythical:"border-red-600"},rarityBg:{common:"bg-gray-900/30",rare:"bg-blue-900/30",epic:"bg-purple-900/30",legendary:"bg-yellow-900/30",mythical:"bg-red-900/30"},health:{high:"bg-green-500",medium:"bg-yellow-500",low:"bg-red-500"},ui:{success:"text-green-400",warning:"text-yellow-400",error:"text-red-400",info:"text-blue-400"}})(r);switch(t){case"text":return s.rarity[e]||s.rarity.common;case"border":return s.rarityBorder[e]||s.rarityBorder.common;case"bg":return s.rarityBg[e]||s.rarityBg.common;default:return""}},E={common:["Rusty Sword","Wooden Club","Stone Axe","Iron Dagger"],rare:["Steel Blade","Silver Mace","Enchanted Bow","Crystal Staff"],epic:["Flamebrand","Frostbite","Thunder Strike","Shadow Cleaver"],legendary:["Excalibur","Mjolnir","Gungnir","Durandal"],mythical:["Void Reaper","Cosmic Blade","Reality Slicer","Dimension Cutter","Soul Harvester","Infinity Edge","Chaos Bringer","Eternal Destroyer"]},D={common:["Leather Vest","Cloth Robe","Wooden Shield","Iron Helm"],rare:["Chainmail","Steel Plate","Mystic Cloak","Silver Guard"],epic:["Dragon Scale","Phoenix Mail","Void Armor","Crystal Guard"],legendary:["Divine Aegis","Eternal Plate","Shadowweave","Celestial Ward"],mythical:["Abyssal Aegis","Stellar Fortress","Quantum Shield","Infinity Guard","Void Mantle","Cosmic Barrier","Reality Armor","Dimensional Cloak"]},_=e=>({common:50,rare:75,epic:100,legendary:150,mythical:200}[e]||50),R=(e=!1,t,r=!1)=>{let s;if(t)s=t;else{const e=["common","rare","epic","legendary","mythical"],t=[40,30,20,8,2],r=100*Math.random();s="common";let a=0;for(let l=0;l<t.length;l++)if(a+=t[l],r<=a){s=e[l];break}}const a=E[s],l=a[Math.floor(Math.random()*a.length)];let i={common:15,rare:25,epic:40,legendary:60,mythical:100}[s]+Math.floor(10*Math.random());const n=r||Math.random()<.05;let o=1;n&&(o=2,i*=2);const c=Math.floor(.5*i),d=_(s);return{id:Math.random().toString(36).substr(2,9),name:n?`Enchanted ${l}`:l,rarity:s,baseAtk:i,level:1,upgradeCost:{common:5,rare:10,epic:20,legendary:40,mythical:50}[s],sellPrice:c,isChroma:!1,durability:d,maxDurability:d,isEnchanted:n,enchantmentMultiplier:o}},$=(e=!1,t,r=!1)=>{let s;if(t)s=t;else{const e=["common","rare","epic","legendary","mythical"],t=[40,30,20,8,2],r=100*Math.random();s="common";let a=0;for(let l=0;l<t.length;l++)if(a+=t[l],r<=a){s=e[l];break}}const a=D[s],l=a[Math.floor(Math.random()*a.length)];let i={common:8,rare:15,epic:25,legendary:40,mythical:70}[s]+Math.floor(5*Math.random());const n=r||Math.random()<.05;let o=1;n&&(o=2,i*=2);const c=Math.floor(.75*i),d=_(s);return{id:Math.random().toString(36).substr(2,9),name:n?`Enchanted ${l}`:l,rarity:s,baseDef:i,level:1,upgradeCost:{common:5,rare:10,epic:20,legendary:40,mythical:50}[s],sellPrice:c,isChroma:!1,durability:d,maxDurability:d,isEnchanted:n,enchantmentMultiplier:o}},I=(e,t=!1)=>C(e,"text",t),B=(e,t=!1)=>C(e,"border",t),G=(e,t=!1)=>{if(t)return"";switch(e){case"common":default:return"shadow-gray-500/20";case"rare":return"shadow-blue-500/30";case"epic":return"shadow-purple-500/40";case"legendary":return"shadow-yellow-500/50";case"mythical":return"shadow-red-600/60"}},L=e=>10*e,P=e=>100+50*e,T=(e,t)=>Math.random()<t/100?Math.floor(1.5*e):e,O=e=>({coin_vacuum:"Automatically collect coins from defeated enemies",treasurer:"Instantly gain 500 bonus coins",xp_surge:"Double experience gain for 24 hours",luck_gem:"Increased chance to find rare gems",enchanter:"Higher chance for enchanted items",time_warp:"Reduce all cooldowns by 50%",golden_touch:"All items sell for double price",knowledge_boost:"Gain bonus research points",durability_master:"Items lose durability 50% slower",relic_finder:"Increased chance to find relics"}[e]||"Unknown skill effect"),H=[{id:"1",question:"What is 2 + 2?",type:"multiple-choice",options:["3","4","5","6"],correctAnswer:1,category:"Math",difficulty:"easy"},{id:"2",question:"What is 5 × 2?",type:"multiple-choice",options:["8","10","12","15"],correctAnswer:1,category:"Math",difficulty:"easy"},{id:"3",question:"What is 10 - 3?",type:"multiple-choice",options:["6","7","8","9"],correctAnswer:1,category:"Math",difficulty:"easy"},{id:"4",question:"How many minutes are in one hour?",type:"number-slider",correctAnswer:60,sliderMin:0,sliderMax:120,category:"Math",difficulty:"easy"},{id:"5",question:"What is half of 10?",type:"type-answer",correctAnswer:"5",category:"Math",difficulty:"easy"},{id:"6",question:"How many legs does a cat have?",type:"multiple-choice",options:["2","4","6","8"],correctAnswer:1,category:"Science",difficulty:"easy"},{id:"7",question:"What do we breathe to stay alive?",type:"multiple-choice",options:["Water","Air","Food","Light"],correctAnswer:1,category:"Science",difficulty:"easy"},{id:"8",question:"What color is the sun?",type:"color-picker",colors:["#FF0000","#00FF00","#FFFF00","#800080","#FFA500","#0000FF"],correctAnswer:"#FFFF00",category:"Science",difficulty:"easy"},{id:"9",question:"How many eyes do most people have?",type:"number-slider",correctAnswer:2,sliderMin:0,sliderMax:10,category:"Science",difficulty:"easy"},{id:"10",question:"What do fish live in?",type:"type-answer",correctAnswer:"water",category:"Science",difficulty:"easy"},{id:"11",question:"What planet do we live on?",type:"multiple-choice",options:["Mars","Earth","Moon","Sun"],correctAnswer:1,category:"Geography",difficulty:"easy"},{id:"12",question:"What is the largest ocean?",type:"multiple-choice",options:["Atlantic","Pacific","Indian","Arctic"],correctAnswer:1,category:"Geography",difficulty:"easy"},{id:"13",question:"How many continents are there?",type:"number-slider",correctAnswer:7,sliderMin:1,sliderMax:10,category:"Geography",difficulty:"easy"},{id:"14",question:"What is the biggest country in the world?",type:"type-answer",correctAnswer:"russia",category:"Geography",difficulty:"easy"},{id:"15",question:"Which continent has penguins?",type:"type-answer",correctAnswer:"antarctica",category:"Geography",difficulty:"easy"},{id:"16",question:"What color do you get when you mix red and yellow?",type:"color-picker",colors:["#800080","#FFA500","#00FF00","#0000FF","#FF0000","#FFFF00"],correctAnswer:"#FFA500",category:"Art",difficulty:"easy"},{id:"17",question:"What color do you get when you mix blue and yellow?",type:"color-picker",colors:["#800080","#FFA500","#00FF00","#FF69B4","#FF0000","#0000FF"],correctAnswer:"#00FF00",category:"Art",difficulty:"easy"},{id:"18",question:"How many colors are in a rainbow?",type:"number-slider",correctAnswer:7,sliderMin:3,sliderMax:12,category:"Art",difficulty:"easy"},{id:"19",question:"What color is grass?",type:"color-picker",colors:["#00FF00","#FF0000","#0000FF","#FFFF00","#800080","#FFA500"],correctAnswer:"#00FF00",category:"Art",difficulty:"easy"},{id:"20",question:"What color is snow?",type:"color-picker",colors:["#FFFFFF","#000000","#808080","#0000FF","#FF0000","#00FF00"],correctAnswer:"#FFFFFF",category:"Art",difficulty:"easy"},{id:"21",question:"The ___ is the largest planet in our ___ system.",type:"fill-blanks",blanks:["Jupiter","solar"],correctAnswer:["jupiter","solar"],category:"Science",difficulty:"medium"},{id:"22",question:"Water freezes at ___ degrees Celsius and boils at ___ degrees Celsius.",type:"fill-blanks",blanks:["0","100"],correctAnswer:["0","100"],category:"Science",difficulty:"medium"},{id:"23",question:"The capital of ___ is Paris, and the capital of ___ is London.",type:"fill-blanks",blanks:["France","England"],correctAnswer:["france","england"],category:"Geography",difficulty:"medium"},{id:"24",question:"What sound does a dog make?",type:"multiple-choice",options:["Meow","Bark","Moo","Roar"],correctAnswer:1,category:"Animals",difficulty:"easy"},{id:"25",question:"What sound does a cat make?",type:"multiple-choice",options:["Bark","Meow","Moo","Oink"],correctAnswer:1,category:"Animals",difficulty:"easy"},{id:"26",question:"What do cows give us to drink?",type:"multiple-choice",options:["Water","Juice","Milk","Soda"],correctAnswer:2,category:"Animals",difficulty:"easy"},{id:"27",question:"What do bees make?",type:"type-answer",correctAnswer:"honey",category:"Animals",difficulty:"easy"},{id:"28",question:"What do chickens lay?",type:"type-answer",correctAnswer:"eggs",category:"Animals",difficulty:"easy"},{id:"29",question:"What fruit is red and grows on trees?",type:"multiple-choice",options:["Banana","Apple","Orange","Grape"],correctAnswer:1,category:"Food",difficulty:"easy"},{id:"30",question:"What vegetable is orange and grows underground?",type:"multiple-choice",options:["Lettuce","Tomato","Carrot","Corn"],correctAnswer:2,category:"Food",difficulty:"easy"},{id:"31",question:"What do we call the first meal of the day?",type:"multiple-choice",options:["Lunch","Dinner","Breakfast","Snack"],correctAnswer:2,category:"Food",difficulty:"easy"},{id:"32",question:"What color is a banana?",type:"color-picker",colors:["#FFFF00","#FF0000","#00FF00","#0000FF","#FFA500","#800080"],correctAnswer:"#FFFF00",category:"Food",difficulty:"easy"},{id:"33",question:"What do we use to eat soup?",type:"type-answer",correctAnswer:"spoon",category:"Food",difficulty:"easy"},{id:"34",question:"How many days are in a week?",type:"number-slider",correctAnswer:7,sliderMin:1,sliderMax:14,category:"Time",difficulty:"easy"},{id:"35",question:"How many months are in a year?",type:"number-slider",correctAnswer:12,sliderMin:6,sliderMax:18,category:"Time",difficulty:"easy"},{id:"36",question:"What comes after Monday?",type:"multiple-choice",options:["Sunday","Tuesday","Wednesday","Friday"],correctAnswer:1,category:"Time",difficulty:"easy"},{id:"37",question:"What season comes after winter?",type:"type-answer",correctAnswer:"spring",category:"Time",difficulty:"easy"},{id:"38",question:"What month comes after January?",type:"type-answer",correctAnswer:"february",category:"Time",difficulty:"easy"},{id:"39",question:"What do we use to see?",type:"multiple-choice",options:["Ears","Eyes","Nose","Mouth"],correctAnswer:1,category:"Body",difficulty:"easy"},{id:"40",question:"What do we use to hear?",type:"multiple-choice",options:["Eyes","Ears","Nose","Hands"],correctAnswer:1,category:"Body",difficulty:"easy"},{id:"41",question:"How many fingers are on one hand?",type:"number-slider",correctAnswer:5,sliderMin:1,sliderMax:10,category:"Body",difficulty:"easy"},{id:"42",question:"What do we use to smell?",type:"type-answer",correctAnswer:"nose",category:"Body",difficulty:"easy"},{id:"43",question:"What do we use to walk?",type:"type-answer",correctAnswer:"feet",category:"Body",difficulty:"easy"},{id:"44",question:"What is 15 + 25?",type:"number-slider",correctAnswer:40,sliderMin:20,sliderMax:60,category:"Math",difficulty:"medium"},{id:"45",question:"What is 8 × 7?",type:"number-slider",correctAnswer:56,sliderMin:40,sliderMax:80,category:"Math",difficulty:"medium"},{id:"46",question:"What is 100 ÷ 4?",type:"type-answer",correctAnswer:"25",category:"Math",difficulty:"medium"},{id:"47",question:"How many hours are in a day?",type:"number-slider",correctAnswer:24,sliderMin:12,sliderMax:36,category:"Math",difficulty:"medium"},{id:"48",question:"What is the closest star to Earth?",type:"multiple-choice",options:["Moon","Sun","Mars","Venus"],correctAnswer:1,category:"Science",difficulty:"medium"},{id:"49",question:"How many bones do adults have?",type:"number-slider",correctAnswer:206,sliderMin:100,sliderMax:300,category:"Science",difficulty:"medium"},{id:"50",question:"What gas do plants need to grow?",type:"type-answer",correctAnswer:"carbon dioxide",category:"Science",difficulty:"medium"},{id:"51",question:"What is the chemical symbol for water?",type:"type-answer",correctAnswer:"h2o",category:"Science",difficulty:"medium"},{id:"52",question:"What is the capital of England?",type:"multiple-choice",options:["Paris","London","Berlin","Rome"],correctAnswer:1,category:"Geography",difficulty:"medium"},{id:"53",question:"Which continent is Egypt in?",type:"multiple-choice",options:["Asia","Africa","Europe","Australia"],correctAnswer:1,category:"Geography",difficulty:"medium"},{id:"54",question:"What is the longest river in the world?",type:"type-answer",correctAnswer:"nile",category:"Geography",difficulty:"medium"},{id:"55",question:"What is the smallest country in the world?",type:"type-answer",correctAnswer:"vatican city",category:"Geography",difficulty:"medium"},{id:"56",question:"What is the square root of 144?",type:"number-slider",correctAnswer:12,sliderMin:5,sliderMax:20,category:"Math",difficulty:"hard"},{id:"57",question:"What is 15% of 200?",type:"number-slider",correctAnswer:30,sliderMin:10,sliderMax:50,category:"Math",difficulty:"hard"},{id:"58",question:"What is the value of π (pi) to two decimal places?",type:"type-answer",correctAnswer:"3.14",category:"Math",difficulty:"hard"},{id:"59",question:"What is the chemical symbol for gold?",type:"multiple-choice",options:["Go","Gd","Au","Ag"],correctAnswer:2,category:"Science",difficulty:"hard"},{id:"60",question:"What is the hardest natural substance?",type:"type-answer",correctAnswer:"diamond",category:"Science",difficulty:"hard"},{id:"61",question:"Who developed the theory of relativity?",type:"type-answer",correctAnswer:"einstein",category:"Science",difficulty:"hard"},{id:"62",question:"What mountain range contains Mount Everest?",type:"multiple-choice",options:["Alps","Andes","Himalayas","Rockies"],correctAnswer:2,category:"Geography",difficulty:"hard"},{id:"63",question:"What is the capital of Australia?",type:"type-answer",correctAnswer:"canberra",category:"Geography",difficulty:"hard"},{id:"64",question:"Who wrote Romeo and Juliet?",type:"multiple-choice",options:["Charles Dickens","William Shakespeare","Mark Twain","Jane Austen"],correctAnswer:1,category:"Literature",difficulty:"hard"},{id:"65",question:"In which year did World War II end?",type:"number-slider",correctAnswer:1945,sliderMin:1940,sliderMax:1950,category:"History",difficulty:"hard"},{id:"66",question:'What does "WWW" stand for?',type:"type-answer",correctAnswer:"world wide web",category:"Technology",difficulty:"medium"},{id:"67",question:"What company makes the iPhone?",type:"type-answer",correctAnswer:"apple",category:"Technology",difficulty:"easy"},{id:"68",question:"How many players are on a soccer team on the field?",type:"number-slider",correctAnswer:11,sliderMin:8,sliderMax:15,category:"Sports",difficulty:"medium"},{id:"69",question:"In which sport do you use a racket?",type:"type-answer",correctAnswer:"tennis",category:"Sports",difficulty:"easy"},{id:"70",question:"How many strings does a guitar usually have?",type:"number-slider",correctAnswer:6,sliderMin:3,sliderMax:12,category:"Music",difficulty:"easy"},{id:"71",question:"What instrument has black and white keys?",type:"type-answer",correctAnswer:"piano",category:"Music",difficulty:"easy"},{id:"72",question:"What type of animal is Mickey Mouse?",type:"multiple-choice",options:["Cat","Dog","Mouse","Rabbit"],correctAnswer:2,category:"Entertainment",difficulty:"easy"},{id:"73",question:'In which movie would you hear "May the Force be with you"?',type:"type-answer",correctAnswer:"star wars",category:"Entertainment",difficulty:"medium"}],U=e=>{let t=H;e&&(t=H.filter(t=>t.difficulty===e));return t[Math.floor(Math.random()*t.length)]},z=e=>{if(e<=10)return U("easy");if(e<=25)return Math.random()<.7?U("easy"):U("medium");{const e=Math.random();return U(e<.4?"easy":e<.8?"medium":"hard")}},Y=({enemy:e,playerStats:f,onAttack:w,combatLog:j,gameMode:N,knowledgeStreak:v,hasUsedRevival:A=!1,adventureSkills:k,onUseSkipCard:M})=>{var F,q;const[W,C]=n.useState(null),[E,D]=n.useState(null),[_,R]=n.useState(""),[$,I]=n.useState(""),[B,G]=n.useState(0),[L,P]=n.useState([]),[T,O]=n.useState(!1),[H,U]=n.useState(8),[Y,K]=n.useState(!1),[V,J]=n.useState(null),[Z,Q]=n.useState(!1),X=n.useRef(null),ee=n.useRef(null),te=e=>{const t="blitz"===N.current||"bloodlust"===N.current?5:8;return"fill-blanks"===e?Math.floor(2.5*t):t};n.useEffect(()=>{var n;let o=z(e.zone);if((null==k?void 0:k.skillEffects.truthLiesActive)&&"multiple-choice"===o.type&&o.options){const e=o.correctAnswer,n=o.options.map((e,t)=>t).filter(t=>t!==e),d=n[Math.floor(Math.random()*n.length)],m=o.options.filter((e,t)=>t!==d),u=e>d?e-1:e;c=((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&i(e,r,t[r]);if(s)for(var r of s(t))l.call(t,r)&&i(e,r,t[r]);return e})({},o),o=t(c,r({options:m,correctAnswer:u}))}var c;C(o),D(null),R(""),I(""),G(o.sliderMin||0),P("fill-blanks"===o.type?new Array((null==(n=o.blanks)?void 0:n.length)||0).fill(""):[]),U(te(o.type)),K(!1),J(null),Q(!1),ee.current&&(ee.current.style.transform="translateY(20px)",ee.current.style.opacity="0",setTimeout(()=>{ee.current&&(ee.current.style.transition="all 0.5s ease-out",ee.current.style.transform="translateY(0)",ee.current.style.opacity="1")},100))},[e,N.current,null==k?void 0:k.skillEffects.truthLiesActive]),n.useEffect(()=>{if(!W||T||Y)return;const e=setInterval(()=>{U(e=>e<=1?(re(null),0):e-1)},1e3);return()=>clearInterval(e)},[W,T,Y]),n.useEffect(()=>{"type-answer"!==(null==W?void 0:W.type)&&"fill-blanks"!==(null==W?void 0:W.type)||Q(!0)},[W]);const re=t=>{if(T||!W)return;let r;switch(O(!0),W.type){case"multiple-choice":D(t),r=null!=t?t:-1;break;case"color-picker":r=$;break;case"number-slider":r=B;break;case"fill-blanks":r=L;break;default:r=_}const s=((e,t)=>"multiple-choice"===e.type||"color-picker"===e.type?t===e.correctAnswer:"number-slider"===e.type?Number(t)===Number(e.correctAnswer):"fill-blanks"===e.type?!(!Array.isArray(t)||!Array.isArray(e.correctAnswer))&&t.length===e.correctAnswer.length&&t.every((t,r)=>String(t).toLowerCase().trim()===String(e.correctAnswer[r]).toLowerCase().trim()):String(t).toLowerCase().trim()===String(e.correctAnswer).toLowerCase().trim())(W,r);J(s),K(!0),setTimeout(()=>{var t;w(s,W.category);const r=z(e.zone);C(r),D(null),R(""),I(""),G(r.sliderMin||0),P("fill-blanks"===r.type?new Array((null==(t=r.blanks)?void 0:t.length)||0).fill(""):[]),O(!1),U(te(r.type)),K(!1),J(null),Q(!1)},2e3)};return W?S.jsxs("div",{className:"bg-gradient-to-br from-red-900/80 via-purple-900/80 to-black/80 p-6 rounded-xl shadow-2xl backdrop-blur-sm border border-red-500/50",children:[S.jsxs("div",{className:"mb-6",ref:ee,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(o,{className:"w-6 h-6 text-purple-400"}),S.jsx("h3",{className:"text-white font-semibold text-lg",children:"Knowledge Challenge"}),(e=>{switch(e){case"color-picker":return S.jsx(g,{className:"w-4 h-4"});case"number-slider":return S.jsx(y,{className:"w-4 h-4"});default:return S.jsx(o,{className:"w-4 h-4"})}})(W.type)]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(c,{className:"w-5 h-5 text-yellow-400"}),S.jsxs("span",{className:"font-bold text-lg px-3 py-1 rounded-lg "+(H<=3?"text-red-400 animate-pulse bg-red-900/30":"text-yellow-400 bg-yellow-900/30"),children:[H,"s"]})]})]}),S.jsxs("div",{className:`bg-black/50 p-6 rounded-xl border-2 ${(e=>{switch(e){case"easy":return"border-green-400";case"medium":return"border-yellow-400";case"hard":return"border-red-400";default:return"border-gray-400"}})(W.difficulty)} mb-4`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("span",{className:"text-sm text-gray-400 bg-black/30 px-3 py-1 rounded-lg",children:W.category}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:`text-sm font-semibold ${(e=>{switch(e){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";default:return"text-gray-400"}})(W.difficulty)} bg-black/30 px-3 py-1 rounded-lg`,children:W.difficulty.toUpperCase()}),S.jsx("span",{className:"text-xs text-purple-400 bg-black/30 px-3 py-1 rounded-lg",children:"multiple-choice"===W.type?"Multiple Choice":"color-picker"===W.type?"Color Picker":"number-slider"===W.type?"Number Slider":"fill-blanks"===W.type?"Fill Blanks":"Type Answer"})]})]}),S.jsx("p",{className:"text-white font-semibold text-lg sm:text-xl mb-6 leading-relaxed text-center",children:W.question}),(()=>{var e,t;if(!W)return null;switch(W.type){case"multiple-choice":return S.jsx("div",{className:"grid grid-cols-1 gap-3",children:null==(e=W.options)?void 0:e.map((e,t)=>{let r="bg-gray-700 hover:bg-gray-600 text-white border border-gray-600 transform transition-all duration-200";return Y?r=t===W.correctAnswer?"bg-green-600 text-white border border-green-500 scale-105":t===E&&E!==W.correctAnswer?"bg-red-600 text-white border border-red-500":"bg-gray-600 text-gray-400 border border-gray-600":E===t&&(r="bg-blue-600 text-white border border-blue-500 scale-105"),S.jsxs("button",{onClick:()=>re(t),disabled:T||Y,className:`p-4 rounded-lg font-semibold text-left ${r} ${T||Y?"cursor-not-allowed":"hover:scale-102"}`,style:{animation:`slideInUp 0.3s ease-out ${.1*t}s both`},children:[S.jsxs("span",{className:"font-bold mr-3 text-lg",children:[String.fromCharCode(65+t),"."]}),e]},t)})});case"color-picker":return S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"grid grid-cols-3 gap-4",children:null==(t=W.colors)?void 0:t.map((e,t)=>S.jsx("button",{onClick:()=>{I(e),setTimeout(()=>re(null),300)},disabled:T||Y,className:`w-full h-16 rounded-lg border-4 transition-all duration-300 transform ${$===e?"border-white scale-110 shadow-lg":"border-gray-600 hover:scale-105"} ${Y&&e===W.correctAnswer?"ring-4 ring-green-400":""}`,style:{backgroundColor:e,animation:`colorPulse 0.4s ease-out ${.1*t}s both`}},t))}),$&&S.jsx("div",{className:"text-center",children:S.jsxs("p",{className:"text-white",children:["Selected color: ",S.jsx("span",{className:"font-bold",style:{color:$},children:"●"})]})})]});case"number-slider":return S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"text-center mb-4",children:S.jsx("span",{className:"text-4xl font-bold text-blue-400",children:B})}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:"range",min:W.sliderMin,max:W.sliderMax,value:B,onChange:e=>G(Number(e.target.value)),disabled:T||Y,className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(B-(W.sliderMin||0))/((W.sliderMax||100)-(W.sliderMin||0))*100}%, #374151 ${(B-(W.sliderMin||0))/((W.sliderMax||100)-(W.sliderMin||0))*100}%, #374151 100%)`}}),S.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[S.jsx("span",{children:W.sliderMin}),S.jsx("span",{children:W.sliderMax})]})]}),S.jsx("button",{onClick:()=>re(null),disabled:T||Y,className:"w-full py-3 rounded-lg font-semibold transition-all duration-200 text-lg "+(T||Y?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-500 transform hover:scale-105"),children:"Submit Answer"})]});case"fill-blanks":const r=W.question.split("___");return S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"text-lg leading-relaxed",children:r.map((e,t)=>S.jsxs("span",{children:[e,t<r.length-1&&S.jsx("input",{type:"text",value:L[t]||"",onChange:e=>((e,t)=>{const r=[...L];r[e]=t,P(r)})(t,e.target.value),disabled:T||Y,className:"inline-block mx-2 px-3 py-1 bg-gray-800 text-white rounded border-2 border-yellow-400 focus:border-yellow-300 focus:outline-none min-w-[120px] text-center font-semibold "+(Z?"shadow-yellow-400/50 shadow-lg":""),placeholder:`Blank ${t+1}`,style:{animation:`blankGlow 2s ease-in-out infinite ${.2*t}s`}})]},t))}),S.jsx("button",{onClick:()=>re(null),disabled:T||Y||L.some(e=>!e.trim()),className:"w-full py-3 rounded-lg font-semibold transition-all duration-200 text-lg "+(T||Y||L.some(e=>!e.trim())?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-500 transform hover:scale-105"),children:"Submit All Answers"})]});default:return S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"relative "+(Z?"typing-glow":""),children:S.jsx("input",{ref:X,type:"text",value:_,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&!T&&!Y&&re(null),disabled:T||Y,placeholder:"Type your answer here...",className:"w-full p-4 bg-gray-800 text-white rounded-lg border-2 border-yellow-400 focus:border-yellow-300 focus:outline-none text-lg font-semibold "+(Z?"shadow-yellow-400/50 shadow-lg":""),style:{animation:Z?"typeGlow 2s ease-in-out infinite":"none"}})}),S.jsx("button",{onClick:()=>re(null),disabled:T||Y||!_.trim(),className:"w-full py-3 rounded-lg font-semibold transition-all duration-200 text-lg "+(T||Y||!_.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-500 transform hover:scale-105"),children:"Submit Answer"})]})}})(),"skip_card"===(null==(F=null==k?void 0:k.selectedSkill)?void 0:F.type)&&!k.skillEffects.skipCardUsed&&S.jsx("div",{className:"mt-4",children:S.jsxs("button",{onClick:()=>{var e;M&&"skip_card"===(null==(e=null==k?void 0:k.selectedSkill)?void 0:e.type)&&!k.skillEffects.skipCardUsed&&(M(),re(null==W?void 0:W.correctAnswer))},className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-all flex items-center gap-2 justify-center",children:[S.jsx(d,{className:"w-4 h-4"}),"Use Skip Card"]})})]}),Y&&S.jsxs("div",{className:"text-center p-4 rounded-xl transition-all duration-500 "+(V?"bg-green-900/50 border border-green-500 animate-pulse":"bg-red-900/50 border border-red-500"),children:[S.jsx("p",{className:"font-bold text-lg "+(V?"text-green-400":"text-red-400"),children:V?"🎉 Correct! You deal damage!":"❌ Wrong! The enemy attacks you!"}),!V&&S.jsxs("p",{className:"text-gray-300 text-sm mt-2",children:["Correct answer: ","multiple-choice"===W.type?`${String.fromCharCode(65+W.correctAnswer)}. ${null==(q=W.options)?void 0:q[W.correctAnswer]}`:"color-picker"===W.type?S.jsxs("span",{style:{color:W.correctAnswer},children:["● ",W.correctAnswer]}):Array.isArray(W.correctAnswer)?W.correctAnswer.join(", "):W.correctAnswer]})]})]}),S.jsxs("div",{className:"text-center mb-6",children:[S.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[S.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:["Combat - Zone ",e.zone]}),(()=>{switch(N.current){case"blitz":return S.jsx(u,{className:"w-5 h-5 text-yellow-400 animate-pulse"});case"bloodlust":return S.jsx(p,{className:"w-5 h-5 text-red-400 animate-pulse"});case"crazy":return S.jsx(b,{className:"w-5 h-5 text-purple-400 animate-pulse"});default:return S.jsx(c,{className:"w-5 h-5 text-blue-400"})}})()]}),S.jsx("p",{className:"text-red-300 text-xl font-semibold",children:e.name}),S.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-4",children:[S.jsxs("span",{className:`px-3 py-1 rounded-lg ${(()=>{switch(N.current){case"blitz":return"bg-yellow-600";case"bloodlust":return"bg-red-600";case"crazy":return"bg-purple-600";default:return"bg-blue-600"}})()} text-white font-semibold text-sm`,children:[N.current.toUpperCase()," MODE"]}),v.current>0&&S.jsxs("span",{className:"text-yellow-300 flex items-center gap-2 bg-yellow-900/30 px-3 py-1 rounded-lg",children:["🔥 ",v.current," Streak (",Math.round(100*(v.multiplier-1)),"% bonus)"]}),!A&&S.jsxs("span",{className:"text-green-300 flex items-center gap-2 bg-green-900/30 px-3 py-1 rounded-lg",children:[S.jsx(m,{className:"w-4 h-4"}),"Revival Available"]}),(null==k?void 0:k.selectedSkill)&&S.jsxs("span",{className:"text-purple-300 flex items-center gap-2 bg-purple-900/30 px-3 py-1 rounded-lg",children:[S.jsx(u,{className:"w-4 h-4"}),k.selectedSkill.name]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[S.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-green-500/30",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(x,{className:"w-5 h-5 text-red-400"}),S.jsx("span",{className:"text-white font-semibold",children:"You"}),!A&&S.jsx("span",{className:"text-green-400 text-xs bg-green-900/30 px-2 py-1 rounded-full",children:"💖 Revival Ready"})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:S.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-4 rounded-full transition-all duration-300",style:{width:f.hp/f.maxHp*100+"%"}})}),S.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center",children:[f.hp,"/",f.maxHp]}),S.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-sm",children:[S.jsxs("span",{className:"text-orange-400 flex items-center gap-1",children:[S.jsx(p,{className:"w-4 h-4"}),f.atk]}),S.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[S.jsx(h,{className:"w-4 h-4"}),f.def]})]})]}),S.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-red-500/30",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(x,{className:"w-5 h-5 text-red-400"}),S.jsx("span",{className:"text-white font-semibold",children:e.name})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:S.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-4 rounded-full transition-all duration-300",style:{width:e.hp/e.maxHp*100+"%"}})}),S.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center",children:[e.hp,"/",e.maxHp]}),S.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-sm",children:[S.jsxs("span",{className:"text-orange-400 flex items-center gap-1",children:[S.jsx(p,{className:"w-4 h-4"}),e.atk]}),S.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[S.jsx(h,{className:"w-4 h-4"}),e.def]})]})]})]}),S.jsxs("div",{className:"text-center mt-4 space-y-2",children:[S.jsxs("p",{className:"text-sm text-gray-300",children:["Answer correctly to ",S.jsx("span",{className:"text-green-400 font-semibold",children:"deal damage"}),"!"]}),S.jsxs("p",{className:"text-sm font-semibold "+("blitz"===N.current||"bloodlust"===N.current?"text-yellow-400":"text-blue-400"),children:["⏰ You have ",te(W.type)," seconds to answer!"]}),!A&&S.jsx("p",{className:"text-green-400 text-sm font-semibold",children:"💖 Don't worry - you get one free revival if you die!"})]}),S.jsxs("div",{className:"bg-black/50 rounded-xl p-4 max-h-40 overflow-y-auto border border-gray-600/50 mt-6",children:[S.jsx("h4",{className:"text-white font-semibold mb-3 text-lg",children:"Combat Log"}),S.jsx("div",{className:"space-y-2",children:j.slice(-6).map((e,t)=>S.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:e},t))})]}),S.jsx("style",{jsx:!0,children:"\n        @keyframes slideInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes colorPulse {\n          from {\n            opacity: 0;\n            transform: scale(0.8);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n\n        @keyframes typeGlow {\n          0%, 100% {\n            box-shadow: 0 0 20px rgba(250, 204, 21, 0.3);\n          }\n          50% {\n            box-shadow: 0 0 30px rgba(250, 204, 21, 0.6);\n          }\n        }\n\n        @keyframes blankGlow {\n          0%, 100% {\n            box-shadow: 0 0 15px rgba(250, 204, 21, 0.2);\n          }\n          50% {\n            box-shadow: 0 0 25px rgba(250, 204, 21, 0.5);\n          }\n        }\n\n        .typing-glow::before {\n          content: '';\n          position: absolute;\n          top: -10px;\n          left: -10px;\n          right: -10px;\n          bottom: -10px;\n          background: linear-gradient(45deg, transparent, rgba(250, 204, 21, 0.3), transparent);\n          border-radius: 12px;\n          z-index: -1;\n          animation: typeGlow 2s ease-in-out infinite;\n        }\n\n        .slider-thumb::-webkit-slider-thumb {\n          appearance: none;\n          height: 24px;\n          width: 24px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #ffffff;\n          box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\n        }\n\n        .slider-thumb::-moz-range-thumb {\n          height: 24px;\n          width: 24px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #ffffff;\n          box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\n        }\n      "})]}):S.jsx("div",{className:"bg-gradient-to-br from-red-900/80 via-purple-900/80 to-black/80 p-6 rounded-xl shadow-2xl backdrop-blur-sm border border-red-500/50",children:S.jsxs("div",{className:"text-center py-8",children:[S.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-4"}),S.jsx("p",{className:"text-white text-lg",children:"Loading question..."})]})})},K=({coins:e,onOpenChest:t,onDiscardItem:r,isPremium:s})=>{var a;const[l,i]=n.useState(null),[o,c]=n.useState(!1),[d,m]=n.useState(!1),u=e=>{return r=null,s=null,a=function*(){c(!0),i(null),setTimeout(()=>{const r=t(e);i(r),c(!1),r&&m(!0)},1500)},new Promise((e,t)=>{var l=e=>{try{n(a.next(e))}catch(r){t(r)}},i=e=>{try{n(a.throw(e))}catch(r){t(r)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,i);n((a=a.apply(r,s)).next())});var r,s,a},x=()=>{m(!1),i(null)};return S.jsxs("div",{className:"bg-gradient-to-br from-yellow-900 via-orange-900 to-red-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[S.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Treasure Shop"}),S.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-300",children:[S.jsx(f,{className:"w-4 h-4 sm:w-5 sm:h-5"}),S.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[e," Coins"]})]}),s&&S.jsx("div",{className:"mt-2 px-3 py-1 bg-gradient-to-r from-yellow-600 to-yellow-500 rounded-full inline-block",children:S.jsx("span",{className:"text-white font-semibold text-xs",children:"👑 PREMIUM MEMBER"})})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[{name:"Basic Chest",cost:100,description:"Common rewards",rarityInfo:"60% Common, 30% Rare, 8% Epic, 2% Legendary"},{name:"Rare Chest",cost:200,description:"Better rewards",rarityInfo:"50% Rare, 35% Epic, 13% Legendary, 2% Mythical"},{name:"Epic Chest",cost:400,description:"Great rewards",rarityInfo:"60% Epic, 30% Legendary, 10% Mythical"},{name:"Legendary Chest",cost:1e3,description:"Amazing rewards",rarityInfo:"70% Legendary, 30% Mythical"}].map((t,r)=>S.jsxs("div",{className:"bg-black/30 p-3 sm:p-4 rounded-lg border border-yellow-600/30",children:[S.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3",children:[S.jsx(w,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-400"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h3",{className:"text-white font-semibold text-sm sm:text-base truncate",children:t.name}),S.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:t.description}),S.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t.rarityInfo})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-1 text-yellow-300",children:[S.jsx(f,{className:"w-3 h-3 sm:w-4 sm:h-4"}),S.jsx("span",{className:"font-semibold text-sm sm:text-base",children:t.cost})]}),S.jsx("button",{onClick:()=>u(t.cost),disabled:e<t.cost||o,className:"px-3 sm:px-4 py-1 sm:py-2 rounded font-semibold transition-all duration-200 text-xs sm:text-sm "+(e>=t.cost&&!o?"bg-gradient-to-r from-yellow-600 to-yellow-500 text-white hover:from-yellow-500 hover:to-yellow-400 hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:o?"Opening...":"Open"})]})]},t.name))}),o&&S.jsxs("div",{className:"text-center py-6 sm:py-8",children:[S.jsx("div",{className:"animate-spin inline-block w-6 h-6 sm:w-8 sm:h-8 border-4 border-yellow-400 border-t-transparent rounded-full mb-3"}),S.jsx("p",{className:"text-white font-semibold text-sm sm:text-base",children:"Opening chest..."}),S.jsx("p",{className:"text-gray-300 text-xs sm:text-sm mt-1",children:"Discovering treasures..."})]}),d&&l&&S.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-teal-900 p-4 sm:p-6 rounded-lg border border-green-500/50 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"text-white font-bold text-lg sm:text-xl",children:"🎉 Chest Rewards!"}),S.jsx("button",{onClick:x,className:"text-gray-400 hover:text-white transition-colors",children:S.jsx(j,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("div",{className:"bg-purple-900/50 p-3 rounded-lg border border-purple-500/50",children:S.jsxs("div",{className:"flex items-center justify-center gap-2",children:[S.jsx(N,{className:"w-5 h-5 text-purple-400"}),S.jsxs("span",{className:"text-white font-semibold",children:["Bonus: ",Math.floor(10*Math.random())+5," Gems"]})]})}),"gems"===l.type?S.jsx("div",{className:"bg-purple-900/50 p-3 rounded-lg border border-purple-500/50",children:S.jsxs("div",{className:"flex items-center justify-center gap-2",children:[S.jsx(N,{className:"w-6 h-6 text-purple-400"}),S.jsxs("span",{className:"text-white font-semibold text-lg",children:[l.gems," Gems"]})]})}):null==(a=l.items)?void 0:a.map((e,t)=>S.jsx("div",{className:`p-3 rounded-lg border-2 ${B(e.rarity)} ${G(e.rarity)} bg-black/40`,children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:S.jsx("p",{className:`font-bold text-sm ${I(e.rarity)}`,children:e.rarity.toUpperCase()})}),S.jsx("p",{className:"text-white font-semibold text-base mb-1",children:e.name}),S.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"weapon"===l.type?`ATK: ${e.baseAtk}`:`DEF: ${e.baseDef}`}),S.jsxs("p",{className:"text-gray-400 text-xs mb-3",children:["Durability: ",e.durability,"/",e.maxDurability]}),S.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs mb-3",children:[S.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[S.jsx(f,{className:"w-3 h-3"}),S.jsxs("span",{children:["Sell: ",e.sellPrice]})]}),S.jsxs("div",{className:"flex items-center gap-1 text-purple-400",children:[S.jsx(N,{className:"w-3 h-3"}),S.jsxs("span",{children:["Upgrade: ",e.upgradeCost]})]})]})]})},t))]}),S.jsx("button",{onClick:x,className:"w-full mt-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white font-semibold rounded-lg hover:from-green-500 hover:to-teal-500 transition-all",children:"Awesome!"})]})})]})},V=({inventory:e,gems:t,onEquipWeapon:r,onEquipArmor:s,onUpgradeWeapon:a,onUpgradeArmor:l,onSellWeapon:i,onSellArmor:o,onUpgradeRelic:c,onEquipRelic:d,onUnequipRelic:m,onSellRelic:u})=>{const[x,y]=n.useState("weapons"),g=(e,t)=>{const r=e/t;return r>.7?"text-green-400":r>.3?"text-yellow-400":"text-red-400"},b=(e,t)=>{const r=e/t;return r>.7?"bg-green-500":r>.3?"bg-yellow-500":"bg-red-500"},w=(n,c)=>S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 max-h-64 sm:max-h-80 overflow-y-auto",children:n.map(n=>{var d,m,u,x,p,h,y,w,j,k;return S.jsxs("div",{className:`bg-black/40 p-3 sm:p-4 rounded-lg border-2 ${B(n.rarity)} ${G(n.rarity)} ${n.isChroma?"animate-pulse":""}`,children:[S.jsx("div",{className:"flex justify-between items-start mb-3",children:S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("p",{className:`font-semibold text-sm sm:text-base truncate ${I(n.rarity)}`,children:n.name}),n.isChroma&&S.jsx(v,{className:"w-4 h-4 text-red-400 animate-pulse"}),n.isEnchanted&&S.jsx(A,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),S.jsx("p",{className:"text-white text-sm sm:text-base mb-1",children:"weapon"===c?`ATK: ${n.baseAtk+10*(n.level-1)}`:`DEF: ${n.baseDef+5*(n.level-1)}`}),S.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-gray-300 mb-1",children:[S.jsx(A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Level ",n.level]}),S.jsxs("div",{className:"mb-2",children:[S.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[S.jsx("span",{className:"text-gray-300",children:"Durability"}),S.jsxs("span",{className:g(n.durability,n.maxDurability),children:[n.durability,"/",n.maxDurability]})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:S.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${b(n.durability,n.maxDurability)}`,style:{width:n.durability/n.maxDurability*100+"%"}})})]}),S.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-yellow-400",children:[S.jsx(f,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Sell: ",n.sellPrice]})]})}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("button",{onClick:()=>"weapon"===c?r(n):s(n),disabled:("weapon"===c?null==(d=e.currentWeapon)?void 0:d.id:null==(m=e.currentArmor)?void 0:m.id)===n.id,className:"px-3 py-2 text-sm rounded font-semibold transition-all "+(("weapon"===c?null==(u=e.currentWeapon)?void 0:u.id:null==(x=e.currentArmor)?void 0:x.id)===n.id?"bg-gray-600 text-gray-400 cursor-not-allowed":"weapon"===c?"bg-orange-600 text-white hover:bg-orange-500":"bg-blue-600 text-white hover:bg-blue-500"),children:("weapon"===c?null==(p=e.currentWeapon)?void 0:p.id:null==(h=e.currentArmor)?void 0:h.id)===n.id?"Equipped":"Equip"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>"weapon"===c?a(n.id):l(n.id),disabled:t<n.upgradeCost,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all flex items-center gap-1 justify-center "+(t>=n.upgradeCost?"bg-purple-600 text-white hover:bg-purple-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:[S.jsx(N,{className:"w-3 h-3"}),n.upgradeCost]}),S.jsx("button",{onClick:()=>"weapon"===c?i(n.id):o(n.id),disabled:("weapon"===c?null==(y=e.currentWeapon)?void 0:y.id:null==(w=e.currentArmor)?void 0:w.id)===n.id,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all "+(("weapon"===c?null==(j=e.currentWeapon)?void 0:j.id:null==(k=e.currentArmor)?void 0:k.id)===n.id?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-500"),children:"Sell"})]})]})]},n.id)})});return S.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[S.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[S.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"Inventory"}),S.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[S.jsx(N,{className:"w-4 h-4 sm:w-5 sm:h-5"}),S.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[t," Gems"]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[S.jsxs("div",{className:"bg-black/30 p-3 sm:p-4 rounded-lg border border-orange-500/50",children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-400"}),"Equipped Weapon"]}),e.currentWeapon?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:`font-semibold text-sm sm:text-base ${I(e.currentWeapon.rarity)}`,children:e.currentWeapon.name}),e.currentWeapon.isChroma&&S.jsx(v,{className:"w-4 h-4 text-red-400 animate-pulse"}),e.currentWeapon.isEnchanted&&S.jsx(A,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),S.jsxs("p",{className:"text-white text-sm sm:text-base",children:["ATK: ",e.currentWeapon.baseAtk+10*(e.currentWeapon.level-1)]}),S.jsxs("p",{className:"text-gray-300 text-xs sm:text-sm",children:["Level ",e.currentWeapon.level]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[S.jsx("span",{className:"text-gray-300",children:"Durability"}),S.jsxs("span",{className:g(e.currentWeapon.durability,e.currentWeapon.maxDurability),children:[e.currentWeapon.durability,"/",e.currentWeapon.maxDurability]})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:S.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${b(e.currentWeapon.durability,e.currentWeapon.maxDurability)}`,style:{width:e.currentWeapon.durability/e.currentWeapon.maxDurability*100+"%"}})})]})]}):S.jsx("p",{className:"text-gray-400 text-sm",children:"No weapon equipped"})]}),S.jsxs("div",{className:"bg-black/30 p-3 sm:p-4 rounded-lg border border-blue-500/50",children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),"Equipped Armor"]}),e.currentArmor?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:`font-semibold text-sm sm:text-base ${I(e.currentArmor.rarity)}`,children:e.currentArmor.name}),e.currentArmor.isChroma&&S.jsx(v,{className:"w-4 h-4 text-red-400 animate-pulse"}),e.currentArmor.isEnchanted&&S.jsx(A,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),S.jsxs("p",{className:"text-white text-sm sm:text-base",children:["DEF: ",e.currentArmor.baseDef+5*(e.currentArmor.level-1)]}),S.jsxs("p",{className:"text-gray-300 text-xs sm:text-sm",children:["Level ",e.currentArmor.level]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[S.jsx("span",{className:"text-gray-300",children:"Durability"}),S.jsxs("span",{className:g(e.currentArmor.durability,e.currentArmor.maxDurability),children:[e.currentArmor.durability,"/",e.currentArmor.maxDurability]})]}),S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:S.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${b(e.currentArmor.durability,e.currentArmor.maxDurability)}`,style:{width:e.currentArmor.durability/e.currentArmor.maxDurability*100+"%"}})})]})]}):S.jsx("p",{className:"text-gray-400 text-sm",children:"No armor equipped"})]})]}),S.jsx("div",{className:"flex gap-2 mb-4",children:[{key:"weapons",label:"Weapons",count:e.weapons.length,icon:p},{key:"armor",label:"Armor",count:e.armor.length,icon:h},{key:"relics",label:"Relics",count:e.relics.length,icon:h}].map(({key:e,label:t,count:r,icon:s})=>S.jsxs("button",{onClick:()=>y(e),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-semibold transition-all "+(x===e?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[S.jsx(s,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:t}),S.jsx("span",{className:"bg-black/30 px-2 py-0.5 rounded-full text-xs",children:r})]},e))}),"weapons"===x&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-400"}),"Weapons (",e.weapons.length,")"]}),e.weapons.length>0?w(e.weapons,"weapon"):S.jsxs("div",{className:"text-center py-8",children:[S.jsx(p,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400 text-lg",children:"No weapons found"}),S.jsx("p",{className:"text-gray-500 text-sm",children:"Open chests to find weapons!"})]})]}),"armor"===x&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),"Armor (",e.armor.length,")"]}),e.armor.length>0?w(e.armor,"armor"):S.jsxs("div",{className:"text-center py-8",children:[S.jsx(h,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400 text-lg",children:"No armor found"}),S.jsx("p",{className:"text-gray-500 text-sm",children:"Open chests to find armor!"})]})]}),"relics"===x&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-400"}),"Ancient Relics (",e.relics.length,")"]}),e.relics.length>0?S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-400"}),"Equipped Relics (",e.equippedRelics.length,"/5)"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:e.equippedRelics.map(e=>S.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/50 to-purple-900/50 p-3 sm:p-4 rounded-lg border-2 border-indigo-500/50",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:["weapon"===e.type?S.jsx(p,{className:"w-4 h-4 text-orange-400"}):S.jsx(h,{className:"w-4 h-4 text-blue-400"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:e.name})]}),S.jsx("p",{className:"text-gray-300 text-xs mb-2",children:e.description}),S.jsx("p",{className:"text-white text-sm mb-2",children:"weapon"===e.type?`ATK: ${e.baseAtk+22*(e.level-1)}`:`DEF: ${e.baseDef+15*(e.level-1)}`}),S.jsxs("p",{className:"text-gray-300 text-xs mb-3",children:["Level ",e.level]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>c(e.id),disabled:t<e.upgradeCost,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all flex items-center gap-1 justify-center "+(t>=e.upgradeCost?"bg-purple-600 text-white hover:bg-purple-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:[S.jsx(N,{className:"w-3 h-3"}),e.upgradeCost]}),S.jsx("button",{onClick:()=>m(e.id),className:"flex-1 px-2 py-1 text-xs rounded font-semibold bg-red-600 text-white hover:bg-red-500 transition-all",children:"Unequip"})]})]},e.id))})]}),e.relics.filter(t=>!e.equippedRelics.some(e=>e.id===t.id)).length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[S.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),"Unequipped Relics"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:e.relics.filter(t=>!e.equippedRelics.some(e=>e.id===t.id)).map(t=>S.jsxs("div",{className:"bg-black/40 p-3 sm:p-4 rounded-lg border border-gray-600",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:["weapon"===t.type?S.jsx(p,{className:"w-4 h-4 text-orange-400"}):S.jsx(h,{className:"w-4 h-4 text-blue-400"}),S.jsx("h4",{className:"text-white font-bold text-sm",children:t.name})]}),S.jsx("p",{className:"text-gray-300 text-xs mb-2",children:t.description}),S.jsx("p",{className:"text-white text-sm mb-2",children:"weapon"===t.type?`ATK: ${t.baseAtk+22*(t.level-1)}`:`DEF: ${t.baseDef+15*(t.level-1)}`}),S.jsxs("p",{className:"text-gray-300 text-xs mb-3",children:["Level ",t.level]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>d(t.id),disabled:e.equippedRelics.length>=5,className:"flex-1 px-2 py-1 text-xs rounded font-semibold transition-all "+(e.equippedRelics.length<5?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:e.equippedRelics.length>=5?"Limit Reached":"Equip"}),S.jsx("button",{onClick:()=>u(t.id),className:"flex-1 px-2 py-1 text-xs rounded font-semibold bg-red-600 text-white hover:bg-red-500 transition-all",children:"Destroy"})]})]},t.id))})]})]}):S.jsxs("div",{className:"text-center py-8",children:[S.jsx(h,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-400 text-lg",children:"No relics found"}),S.jsx("p",{className:"text-gray-500 text-sm",children:"Visit the Yojef Market to find ancient relics!"})]})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[S.jsxs("p",{className:"text-xs sm:text-sm text-gray-300 mb-2",children:["💡 ",S.jsx("strong",{children:"Features:"})]}),S.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[S.jsxs("p",{children:["• ",S.jsx("strong",{children:"Enchanted Items:"})," 5% chance from chests, double ATK/DEF"]}),S.jsxs("p",{children:["• ",S.jsx("strong",{children:"Relics:"})," Powerful ancient items from the Yojef Market (max 5 equipped) - 1.5x stronger!"]}),S.jsxs("p",{children:["• ",S.jsx("strong",{children:"Durability:"})," Items lose durability in combat and become less effective"]})]})]})})]})};export{Y as C,V as I,K as S,B as a,R as b,$ as c,T as d,O as e,P as f,I as g,L as h,S as j};
