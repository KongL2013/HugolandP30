const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/utility-components-B5y5KYIu.js","assets/game-components-DgapQgoY.js","assets/ui-vendor-BuVqD6Vx.js","assets/react-vendor-DEQ385Nk.js","assets/EnhancedGameModes-nfjZykWE.js","assets/PokyegMarket-B27bYK_S.js","assets/Tutorial-BtqpsvHG.js","assets/CheatPanel-C1drVpsh.js","assets/DailyRewards-lG4SLb5S.js","assets/OfflineProgress-CshBdjgC.js","assets/BulkActions-CEYkr2dR.js","assets/menu-components-Bsuq7OBp.js","assets/AdventureSkillSelection-CJ6q5wLT.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,o=(e,s)=>{for(var t in s||(s={}))a.call(s,t)&&l(e,t,s[t]);if(n)for(var t of n(s))i.call(s,t)&&l(e,t,s[t]);return e},c=(e,r)=>s(e,t(r)),d=(e,s,t)=>new Promise((r,n)=>{var a=e=>{try{l(t.next(e))}catch(s){n(s)}},i=e=>{try{l(t.throw(e))}catch(s){n(s)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,i);l((t=t.apply(e,s)).next())});import{b as m,c as x,d as p,e as u,j as h,f as g,h as f,C as b,I as y,S as v}from"./game-components-DgapQgoY.js";import{r as w,j,H as k,a as N,b as S,w as C,e as _,G as P,g as R,B as M,X as A,f as E,F as G,I as L,J as D,o as T,K as O,l as I,N as z,O as W,R as q}from"./ui-vendor-BuVqD6Vx.js";import{a as U}from"./react-vendor-DEQ385Nk.js";import{_ as H}from"./supabase-vendor-Bj79fh9f.js";var B,V,Z=(B={"assets/index-CjM4_p76.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var s,t={},r=function(){if(s)return t;s=1;var e=U();return t.createRoot=e.createRoot,t.hydrateRoot=e.hydrateRoot,t}();class n{static getItem(e){return d(this,null,function*(){try{return localStorage.getItem(e)}catch(s){return null}})}static setItem(e,s){return d(this,null,function*(){try{localStorage.setItem(e,s)}catch(t){}})}static removeItem(e){return d(this,null,function*(){try{localStorage.removeItem(e)}catch(s){}})}static clear(){return d(this,null,function*(){try{localStorage.clear()}catch(e){}})}}const a="gameState",i=[{id:"first_victory",name:"First Victory",description:"Win your first battle",icon:"ðŸ†",maxProgress:1,reward:{coins:50,gems:5}},{id:"zone_master_10",name:"Zone Explorer",description:"Reach Zone 10",icon:"ðŸ—ºï¸",maxProgress:10,reward:{coins:200,gems:10}},{id:"zone_master_25",name:"Zone Conqueror",description:"Reach Zone 25",icon:"âš”ï¸",maxProgress:25,reward:{coins:500,gems:25}},{id:"zone_master_50",name:"Zone Legend",description:"Reach Zone 50 and unlock Premium",icon:"ðŸ‘‘",maxProgress:50,reward:{coins:1e3,gems:50,special:"Premium Access"}},{id:"zone_master_100",name:"Zone Master",description:"Reach Zone 100",icon:"ðŸ”ï¸",maxProgress:100,reward:{coins:2e3,gems:100}},{id:"zone_master_250",name:"Zone Overlord",description:"Reach Zone 250",icon:"ðŸŒ‹",maxProgress:250,reward:{coins:5e3,gems:250}},{id:"zone_master_500",name:"Zone God",description:"Reach Zone 500",icon:"ðŸŒŒ",maxProgress:500,reward:{coins:1e4,gems:500}},{id:"collector_25",name:"Item Collector",description:"Collect 25 different items",icon:"ðŸ“¦",maxProgress:25,reward:{coins:300,gems:15}},{id:"collector_50",name:"Master Collector",description:"Collect 50 different items",icon:"ðŸŽ’",maxProgress:50,reward:{coins:750,gems:35}},{id:"collector_100",name:"Legendary Collector",description:"Collect 100 different items",icon:"ðŸ›ï¸",maxProgress:100,reward:{coins:1500,gems:75}},{id:"scholar_tier_5",name:"Scholar",description:"Reach Research Level 5",icon:"ðŸ§ ",maxProgress:5,reward:{coins:400,gems:20}},{id:"scholar_tier_10",name:"Master Scholar",description:"Reach Research Level 10",icon:"ðŸ“š",maxProgress:10,reward:{coins:800,gems:40}},{id:"scholar_tier_25",name:"Grand Scholar",description:"Reach Research Level 25",icon:"ðŸŽ“",maxProgress:25,reward:{coins:2e3,gems:100}},{id:"scholar_tier_50",name:"Sage",description:"Reach Research Level 50",icon:"ðŸ”®",maxProgress:50,reward:{coins:5e3,gems:250}},{id:"streak_master_10",name:"Knowledge Streak",description:"Get 10 correct answers in a row",icon:"ðŸ”¥",maxProgress:10,reward:{coins:250,gems:12}},{id:"streak_master_25",name:"Genius Streak",description:"Get 25 correct answers in a row",icon:"âš¡",maxProgress:25,reward:{coins:600,gems:30}},{id:"streak_master_50",name:"Mastermind Streak",description:"Get 50 correct answers in a row",icon:"ðŸŒŸ",maxProgress:50,reward:{coins:1500,gems:75}},{id:"streak_master_100",name:"Legendary Streak",description:"Get 100 correct answers in a row",icon:"ðŸ’«",maxProgress:100,reward:{coins:3e3,gems:150}},{id:"wealthy_1000",name:"Coin Collector",description:"Earn 1000 total coins",icon:"ðŸ’°",maxProgress:1e3,reward:{gems:20}},{id:"wealthy_10000",name:"Rich Adventurer",description:"Earn 10,000 total coins",icon:"ðŸ’Ž",maxProgress:1e4,reward:{gems:50}},{id:"wealthy_100000",name:"Wealthy Merchant",description:"Earn 100,000 total coins",icon:"ðŸ¦",maxProgress:1e5,reward:{gems:200}},{id:"wealthy_1000000",name:"Millionaire",description:"Earn 1,000,000 total coins",icon:"ðŸ’¸",maxProgress:1e6,reward:{gems:1e3}},{id:"gem_collector_100",name:"Gem Collector",description:"Earn 100 total gems",icon:"ðŸ’Ž",maxProgress:100,reward:{coins:500}},{id:"gem_collector_1000",name:"Gem Master",description:"Earn 1000 total gems",icon:"ðŸ’",maxProgress:1e3,reward:{coins:2e3}},{id:"gem_collector_10000",name:"Gem Lord",description:"Earn 10,000 total gems",icon:"ðŸ‘‘",maxProgress:1e4,reward:{coins:1e4}},{id:"chest_opener_10",name:"Treasure Hunter",description:"Open 10 chests",icon:"ðŸ—ï¸",maxProgress:10,reward:{coins:200,gems:10}},{id:"chest_opener_50",name:"Chest Master",description:"Open 50 chests",icon:"ðŸ“¦",maxProgress:50,reward:{coins:1e3,gems:50}},{id:"chest_opener_100",name:"Vault Breaker",description:"Open 100 chests",icon:"ðŸ›ï¸",maxProgress:100,reward:{coins:2500,gems:125}},{id:"accuracy_master_90",name:"Perfect Scholar",description:"Maintain 90% accuracy over 50 questions",icon:"ðŸŽ¯",maxProgress:50,reward:{coins:500,gems:25}},{id:"accuracy_master_95",name:"Precision Master",description:"Maintain 95% accuracy over 100 questions",icon:"ðŸ¹",maxProgress:100,reward:{coins:1500,gems:75}},{id:"legendary_finder",name:"Legendary Hunter",description:"Find your first Legendary item",icon:"âœ¨",maxProgress:1,reward:{coins:300,gems:15}},{id:"mythical_finder",name:"Mythical Seeker",description:"Find your first Mythical item",icon:"ðŸŒŸ",maxProgress:1,reward:{coins:500,gems:25}},{id:"legendary_collector_10",name:"Legendary Collector",description:"Find 10 Legendary items",icon:"â­",maxProgress:10,reward:{coins:2e3,gems:100}},{id:"mythical_collector_5",name:"Mythical Collector",description:"Find 5 Mythical items",icon:"ðŸŒ ",maxProgress:5,reward:{coins:3e3,gems:150}},{id:"warrior_100",name:"Warrior",description:"Win 100 battles",icon:"âš”ï¸",maxProgress:100,reward:{coins:1e3,gems:50}},{id:"warrior_500",name:"Battle Master",description:"Win 500 battles",icon:"ðŸ›¡ï¸",maxProgress:500,reward:{coins:3e3,gems:150}},{id:"warrior_1000",name:"War Hero",description:"Win 1000 battles",icon:"ðŸ†",maxProgress:1e3,reward:{coins:5e3,gems:250}},{id:"miner_100",name:"Gem Miner",description:"Mine 100 gems",icon:"â›ï¸",maxProgress:100,reward:{coins:500,gems:25}},{id:"miner_1000",name:"Master Miner",description:"Mine 1000 gems",icon:"ðŸ’Ž",maxProgress:1e3,reward:{coins:2e3,gems:100}},{id:"shiny_hunter_10",name:"Shiny Hunter",description:"Find 10 shiny gems",icon:"âœ¨",maxProgress:10,reward:{coins:1e3,gems:50}},{id:"shiny_hunter_100",name:"Shiny Master",description:"Find 100 shiny gems",icon:"ðŸŒŸ",maxProgress:100,reward:{coins:5e3,gems:250}},{id:"enchanted_finder_10",name:"Enchanted Finder",description:"Find 10 enchanted items",icon:"ðŸ”®",maxProgress:10,reward:{coins:1500,gems:75}},{id:"relic_seeker_5",name:"Relic Seeker",description:"Own 5 relic items",icon:"ðŸº",maxProgress:5,reward:{coins:2e3,gems:100}},{id:"knowledge_master_1000",name:"Knowledge Master",description:"Answer 1000 questions correctly",icon:"ðŸ§ ",maxProgress:1e3,reward:{coins:3e3,gems:150}},{id:"knowledge_master_10000",name:"Knowledge God",description:"Answer 10,000 questions correctly",icon:"ðŸŽ“",maxProgress:1e4,reward:{coins:1e4,gems:500}},{id:"daily_player_7",name:"Weekly Player",description:"Play for 7 consecutive days",icon:"ðŸ“…",maxProgress:7,reward:{coins:1e3,gems:50}},{id:"daily_player_30",name:"Monthly Player",description:"Play for 30 consecutive days",icon:"ðŸ—“ï¸",maxProgress:30,reward:{coins:5e3,gems:250}},{id:"gardener_first",name:"First Gardener",description:"Plant your first seed",icon:"ðŸŒ±",maxProgress:1,reward:{coins:500,gems:25}},{id:"gardener_master",name:"Master Gardener",description:"Grow your plant to 50cm",icon:"ðŸŒ³",maxProgress:50,reward:{coins:2e3,gems:100}},{id:"gardener_legend",name:"Legendary Gardener",description:"Grow your plant to maximum size",icon:"ðŸŒ²",maxProgress:100,reward:{coins:5e3,gems:250}}],l=()=>i.map(e=>c(o({},e),{unlocked:!1,progress:0})),B=[{id:"zone_explorer",name:"Zone Explorer",description:"Reach Zone 25",icon:"ðŸ—ºï¸",color:"text-green-400"},{id:"zone_master",name:"Zone Master",description:"Reach Zone 100",icon:"ðŸ”ï¸",color:"text-blue-400"},{id:"zone_legend",name:"Zone Legend",description:"Reach Zone 250",icon:"ðŸŒ‹",color:"text-red-400"},{id:"zone_god",name:"Zone God",description:"Reach Zone 500",icon:"ðŸŒŒ",color:"text-purple-400"},{id:"coin_collector",name:"Coin Collector",description:"Earn 10,000 total coins",icon:"ðŸ’°",color:"text-yellow-400"},{id:"gem_collector",name:"Gem Collector",description:"Earn 1,000 total gems",icon:"ðŸ’Ž",color:"text-purple-400"},{id:"millionaire",name:"Millionaire",description:"Earn 1,000,000 total coins",icon:"ðŸ’¸",color:"text-green-400"},{id:"knowledge_master",name:"Knowledge Master",description:"Answer 1,000 questions correctly",icon:"ðŸ§ ",color:"text-blue-400"},{id:"knowledge_god",name:"Knowledge God",description:"Answer 10,000 questions correctly",icon:"ðŸŽ“",color:"text-indigo-400"},{id:"streak_master",name:"Streak Master",description:"Get 50 correct answers in a row",icon:"ðŸ”¥",color:"text-orange-400"},{id:"streak_legend",name:"Streak Legend",description:"Get 100 correct answers in a row",icon:"ðŸ’«",color:"text-yellow-400"},{id:"warrior",name:"Warrior",description:"Win 500 battles",icon:"âš”ï¸",color:"text-red-400"},{id:"war_hero",name:"War Hero",description:"Win 1,000 battles",icon:"ðŸ†",color:"text-gold-400"},{id:"collector",name:"Collector",description:"Collect 50 different items",icon:"ðŸ“¦",color:"text-cyan-400"},{id:"legendary_collector",name:"Legendary Collector",description:"Find 10 Legendary items",icon:"â­",color:"text-yellow-400"},{id:"mythical_seeker",name:"Mythical Seeker",description:"Find 5 Mythical items",icon:"ðŸŒ ",color:"text-pink-400"},{id:"miner",name:"Miner",description:"Mine 1,000 gems",icon:"â›ï¸",color:"text-gray-400"},{id:"shiny_hunter",name:"Shiny Hunter",description:"Find 100 shiny gems",icon:"âœ¨",color:"text-yellow-400"},{id:"enchanted_finder",name:"Enchanted Finder",description:"Find 10 enchanted items",icon:"ðŸ”®",color:"text-cyan-400"},{id:"relic_seeker",name:"Relic Seeker",description:"Own 5 relic items",icon:"ðŸº",color:"text-orange-400"},{id:"scholar",name:"Scholar",description:"Reach Research Level 25",icon:"ðŸ“š",color:"text-blue-400"},{id:"sage",name:"Sage",description:"Reach Research Level 50",icon:"ðŸ”®",color:"text-purple-400"},{id:"gardener",name:"Gardener",description:"Plant your first seed",icon:"ðŸŒ±",color:"text-green-400"},{id:"master_gardener",name:"Master Gardener",description:"Grow your plant to 50cm",icon:"ðŸŒ³",color:"text-green-500"},{id:"legendary_gardener",name:"Legendary Gardener",description:"Grow your plant to maximum size",icon:"ðŸŒ²",color:"text-emerald-400"},{id:"premium_member",name:"Premium Member",description:"Unlock Premium status",icon:"ðŸ‘‘",color:"text-yellow-400"},{id:"precision_master",name:"Precision Master",description:"Maintain 95% accuracy over 100 questions",icon:"ðŸŽ¯",color:"text-red-400"},{id:"dedicated_player",name:"Dedicated Player",description:"Play for 30 consecutive days",icon:"ðŸ—“ï¸",color:"text-blue-400"}],V=()=>B.map(e=>c(o({},e),{unlocked:!1})),Z=()=>{const[e,s]=w.useState(null),[t,r]=w.useState(!0);w.useEffect(()=>{d(null,null,function*(){try{const e=yield d(null,null,function*(){try{const e=yield n.getItem(a);return e?JSON.parse(e,(e,s)=>["lastSaveTime","lastClaimDate","sessionStartTime","lastRefresh","nextRefresh","plantedAt","lastWatered","activatedAt","expiresAt","lastRollTime","unlockedAt","claimDate"].includes(e)&&"string"==typeof s?new Date(s):s):null}catch(e){return null}});if(e)s(e);else{const e={coins:100,gems:0,shinyGems:0,zone:1,playerStats:{hp:100,maxHp:100,atk:10,def:5,baseAtk:10,baseDef:5,baseHp:100},inventory:{weapons:[],armor:[],relics:[],currentWeapon:null,currentArmor:null,equippedRelics:[]},currentEnemy:null,inCombat:!1,combatLog:[],research:{level:0,totalSpent:0,availableUpgrades:["atk","def","hp"]},isPremium:!1,achievements:l(),collectionBook:{weapons:{},armor:{},totalWeaponsFound:0,totalArmorFound:0,rarityStats:{common:0,rare:0,epic:0,legendary:0,mythical:0}},knowledgeStreak:{current:0,best:0,multiplier:1},gameMode:{current:"normal",speedModeActive:!1,survivalLives:3,maxSurvivalLives:3,timeAttackScore:0,timeAttackTimeLeft:60,bossProgress:0},statistics:{totalQuestionsAnswered:0,correctAnswers:0,totalPlayTime:0,zonesReached:1,itemsCollected:0,coinsEarned:0,gemsEarned:0,shinyGemsEarned:0,chestsOpened:0,accuracyByCategory:{},sessionStartTime:new Date,totalDeaths:0,totalVictories:0,longestStreak:0,fastestVictory:0,totalDamageDealt:0,totalDamageTaken:0,itemsUpgraded:0,itemsSold:0,totalResearchSpent:0,averageAccuracy:0,revivals:0},cheats:{infiniteCoins:!1,infiniteGems:!1,obtainAnyItem:!1},mining:{totalGemsMined:0,totalShinyGemsMined:0},yojefMarket:{items:[],lastRefresh:new Date,nextRefresh:new Date(Date.now()+3e5)},playerTags:V(),dailyRewards:{lastClaimDate:null,currentStreak:0,maxStreak:0,availableReward:null,rewardHistory:[]},progression:{level:1,experience:0,experienceToNext:100,skillPoints:0,unlockedSkills:[],prestigeLevel:0,prestigePoints:0,masteryLevels:{}},offlineProgress:{lastSaveTime:new Date,offlineCoins:0,offlineGems:0,offlineExperience:0,offlineTime:0,maxOfflineHours:24},gardenOfGrowth:{isPlanted:!1,plantedAt:null,lastWatered:null,waterHoursRemaining:0,growthCm:0,totalGrowthBonus:0,seedCost:1e3,waterCost:100,maxGrowthCm:100},settings:{colorblindMode:!1,darkMode:!0,language:"en",notifications:!0},hasUsedRevival:!1,skills:{activeMenuSkill:null,lastRollTime:null,playTimeThisSession:0,sessionStartTime:new Date},adventureSkills:{selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1}}};s(e)}}catch(e){}finally{r(!1)}})},[]),w.useEffect(()=>{if(e&&!t){const s=setTimeout(()=>{(e=>{d(null,null,function*(){try{const s=JSON.stringify(e,(e,s)=>s instanceof Date?s.toISOString():s);yield n.setItem(a,s)}catch(s){}})})(e)},1e3);return()=>clearTimeout(s)}},[e,t]);const i=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s);return t.inventory.currentWeapon&&t.inventory.weapons.push(t.inventory.currentWeapon),t.inventory.weapons=t.inventory.weapons.filter(s=>s.id!==e.id),t.inventory.currentWeapon=e,t.playerStats.atk=t.playerStats.baseAtk+(e.baseAtk||0),t})},[]),h=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s);return t.inventory.currentArmor&&t.inventory.armor.push(t.inventory.currentArmor),t.inventory.armor=t.inventory.armor.filter(s=>s.id!==e.id),t.inventory.currentArmor=e,t.playerStats.def=t.playerStats.baseDef+(e.baseDef||0),t})},[]),g=w.useCallback(t=>{var r;if(!e)return!1;const n=(null==(r=e.inventory.currentWeapon)?void 0:r.id)===t?e.inventory.currentWeapon:e.inventory.weapons.find(e=>e.id===t);if(!n)return!1;const a=n.upgradeCost;return!(e.gems<a&&!e.cheats.infiniteGems||(s(e=>{var s;if(!e)return e;const r=o({},e);if((null==(s=r.inventory.currentWeapon)?void 0:s.id)===t)r.inventory.currentWeapon.level+=1,r.inventory.currentWeapon.baseAtk+=Math.floor(.1*r.inventory.currentWeapon.baseAtk);else{const e=r.inventory.weapons.findIndex(e=>e.id===t);-1!==e&&(r.inventory.weapons[e].level+=1,r.inventory.weapons[e].baseAtk+=Math.floor(.1*r.inventory.weapons[e].baseAtk))}return r.cheats.infiniteGems||(r.gems-=a),r.statistics.itemsUpgraded+=1,r}),0))},[e]),f=w.useCallback(t=>{var r;if(!e)return!1;const n=(null==(r=e.inventory.currentArmor)?void 0:r.id)===t?e.inventory.currentArmor:e.inventory.armor.find(e=>e.id===t);if(!n)return!1;const a=n.upgradeCost;return!(e.gems<a&&!e.cheats.infiniteGems||(s(e=>{var s;if(!e)return e;const r=o({},e);if((null==(s=r.inventory.currentArmor)?void 0:s.id)===t)r.inventory.currentArmor.level+=1,r.inventory.currentArmor.baseDef+=Math.floor(.1*r.inventory.currentArmor.baseDef);else{const e=r.inventory.armor.findIndex(e=>e.id===t);-1!==e&&(r.inventory.armor[e].level+=1,r.inventory.armor[e].baseDef+=Math.floor(.1*r.inventory.armor[e].baseDef))}return r.cheats.infiniteGems||(r.gems-=a),r.statistics.itemsUpgraded+=1,r}),0))},[e]),b=w.useCallback(t=>{if(!e)return!1;const r=e.inventory.weapons.find(e=>e.id===t);if(!r)return!1;const n=r.sellPrice;return s(e=>{if(!e)return e;const s=o({},e);return s.inventory.weapons=s.inventory.weapons.filter(e=>e.id!==t),s.coins+=n,s.statistics.coinsEarned+=n,s}),!0},[e]),y=w.useCallback(t=>{if(!e)return!1;const r=e.inventory.armor.find(e=>e.id===t);if(!r)return!1;const n=r.sellPrice;return s(e=>{if(!e)return e;const s=o({},e);return s.inventory.armor=s.inventory.armor.filter(e=>e.id!==t),s.coins+=n,s.statistics.coinsEarned+=n,s}),!0},[e]),v=w.useCallback(t=>{if(!e)return;const r=100*(e.research.level+1);e.coins<r&&!e.cheats.infiniteCoins||s(e=>{if(!e)return e;const s=o({},e);return s.research.level+=1,s.research.totalSpent+=r,s.cheats.infiniteCoins||(s.coins-=r),s})},[e]),j=w.useCallback(t=>{if(!e)return null;if(e.coins<t&&!e.cheats.infiniteCoins)return null;const r=[],n=t>=1e3?3:t>=400?2:1;for(let e=0;e<n;e++)if("weapon"==(Math.random()<.5?"weapon":"armor")){const e=m();r.push(e)}else{const e=x();r.push(e)}return s(e=>{if(!e)return e;const s=o({},e);return s.cheats.infiniteCoins||(s.coins-=t),r.forEach(e=>{"baseAtk"in e?s.inventory.weapons.push(e):s.inventory.armor.push(e)}),s.statistics.chestsOpened+=1,s}),{type:"weapon",items:r}},[e]),k=w.useCallback(()=>{if(!e)return;const t=50*e.zone,r=10*e.zone;s(e=>e?c(o({},e),{inCombat:!0,currentEnemy:{name:`Zone ${e.zone} Enemy`,hp:t,maxHp:t,atk:r,def:Math.floor(2*e.zone),zone:e.zone}}):e)},[e]),N=w.useCallback((t,r)=>{(null==e?void 0:e.currentEnemy)&&s(e=>{if(!(null==e?void 0:e.currentEnemy))return e;const s=o({},e);if(t){const e=p(s.playerStats.atk,0);if(s.currentEnemy.hp=Math.max(0,s.currentEnemy.hp-e),s.combatLog.push(`You deal ${e} damage!`),s.currentEnemy.hp<=0){const e=20*s.zone,t=10*s.zone;for(s.coins+=e,s.progression.experience+=t,s.statistics.coinsEarned+=e,s.statistics.totalVictories+=1;s.progression.experience>=s.progression.experienceToNext;)s.progression.experience-=s.progression.experienceToNext,s.progression.level+=1,s.progression.experienceToNext=100*s.progression.level,s.progression.skillPoints+=1;s.inCombat=!1,s.currentEnemy=null,s.zone+=1,s.combatLog.push(`Victory! Moving to zone ${s.zone}`)}}else{const e=Math.max(1,s.currentEnemy.atk-s.playerStats.def);s.playerStats.hp=Math.max(0,s.playerStats.hp-e),s.combatLog.push(`Enemy deals ${e} damage to you!`),s.playerStats.hp<=0&&(s.inCombat=!1,s.currentEnemy=null,s.playerStats.hp=s.playerStats.maxHp,s.statistics.totalDeaths+=1,s.combatLog.push("You were defeated! Respawning..."))}return s})},[e]),S=w.useCallback(()=>{d(null,null,function*(){try{yield n.removeItem(a)}catch(e){}}),s(null),r(!0),setTimeout(()=>{const e={coins:100,gems:0,shinyGems:0,zone:1,playerStats:{hp:100,maxHp:100,atk:10,def:5,baseAtk:10,baseDef:5,baseHp:100},inventory:{weapons:[],armor:[],relics:[],currentWeapon:null,currentArmor:null,equippedRelics:[]},currentEnemy:null,inCombat:!1,combatLog:[],research:{level:0,totalSpent:0,availableUpgrades:["atk","def","hp"]},isPremium:!1,achievements:l(),collectionBook:{weapons:{},armor:{},totalWeaponsFound:0,totalArmorFound:0,rarityStats:{common:0,rare:0,epic:0,legendary:0,mythical:0}},knowledgeStreak:{current:0,best:0,multiplier:1},gameMode:{current:"normal",speedModeActive:!1,survivalLives:3,maxSurvivalLives:3,timeAttackScore:0,timeAttackTimeLeft:60,bossProgress:0},statistics:{totalQuestionsAnswered:0,correctAnswers:0,totalPlayTime:0,zonesReached:1,itemsCollected:0,coinsEarned:0,gemsEarned:0,shinyGemsEarned:0,chestsOpened:0,accuracyByCategory:{},sessionStartTime:new Date,totalDeaths:0,totalVictories:0,longestStreak:0,fastestVictory:0,totalDamageDealt:0,totalDamageTaken:0,itemsUpgraded:0,itemsSold:0,totalResearchSpent:0,averageAccuracy:0,revivals:0},cheats:{infiniteCoins:!1,infiniteGems:!1,obtainAnyItem:!1},mining:{totalGemsMined:0,totalShinyGemsMined:0},yojefMarket:{items:[],lastRefresh:new Date,nextRefresh:new Date(Date.now()+3e5)},playerTags:V(),dailyRewards:{lastClaimDate:null,currentStreak:0,maxStreak:0,availableReward:null,rewardHistory:[]},progression:{level:1,experience:0,experienceToNext:100,skillPoints:0,unlockedSkills:[],prestigeLevel:0,prestigePoints:0,masteryLevels:{}},offlineProgress:{lastSaveTime:new Date,offlineCoins:0,offlineGems:0,offlineExperience:0,offlineTime:0,maxOfflineHours:24},gardenOfGrowth:{isPlanted:!1,plantedAt:null,lastWatered:null,waterHoursRemaining:0,growthCm:0,totalGrowthBonus:0,seedCost:1e3,waterCost:100,maxGrowthCm:100},settings:{colorblindMode:!1,darkMode:!0,language:"en",notifications:!0},hasUsedRevival:!1,skills:{activeMenuSkill:null,lastRollTime:null,playTimeThisSession:0,sessionStartTime:new Date},adventureSkills:{selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1}}};s(e),r(!1)},100)},[]),C=w.useCallback(e=>{s(s=>s?c(o({},s),{gameMode:c(o({},s.gameMode),{current:e})}):s)},[]),_=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s);return t.cheats[e]=!t.cheats[e],t})},[]),P=w.useCallback(t=>{e&&s(e=>{if(!e)return e;const s=o({},e);if("weapon"===t){const e=m(!1,"mythical");e.baseAtk*=10,e.name=`Cheat ${e.name}`,s.inventory.weapons.push(e)}else{const e=x(!1,"mythical");e.baseDef*=10,e.name=`Cheat ${e.name}`,s.inventory.armor.push(e)}return s})},[e]),R=w.useCallback((t,r)=>{if(!e)return null;const n=Math.random()<.05,a=n?0:1,i=n?1:0;return s(e=>{if(!e)return e;const s=o({},e);return s.gems+=a,s.shinyGems+=i,s.mining.totalGemsMined+=a,s.mining.totalShinyGemsMined+=i,s}),{gems:a,shinyGems:i}},[e]),M=w.useCallback(t=>!(!e||e.shinyGems<t||(s(e=>{if(!e)return e;const s=o({},e);return s.shinyGems-=t,s.gems+=10*t,s}),0)),[e]),A=w.useCallback((e,t)=>{s(s=>{if(!s)return s;const r=o({},s);return"weapon"===t?r.inventory.weapons=r.inventory.weapons.filter(s=>s.id!==e):r.inventory.armor=r.inventory.armor.filter(s=>s.id!==e),r})},[]),E=w.useCallback(t=>{if(!e)return!1;const r=e.yojefMarket.items.find(e=>e.id===t);return!(!r||e.gems<r.cost||(s(e=>{if(!e)return e;const s=o({},e);return s.gems-=r.cost,s.inventory.relics.push(r),s.yojefMarket.items=s.yojefMarket.items.filter(e=>e.id!==t),s}),0))},[e]),G=w.useCallback(t=>{if(!e)return!1;const r=e.inventory.relics.find(e=>e.id===t)||e.inventory.equippedRelics.find(e=>e.id===t);return!(!r||e.gems<r.upgradeCost||(s(e=>{if(!e)return e;const s=o({},e);s.gems-=r.upgradeCost;const n=s.inventory.relics.findIndex(e=>e.id===t);-1!==n&&(s.inventory.relics[n].level+=1,s.inventory.relics[n].baseAtk&&(s.inventory.relics[n].baseAtk+=10),s.inventory.relics[n].baseDef&&(s.inventory.relics[n].baseDef+=5));const a=s.inventory.equippedRelics.findIndex(e=>e.id===t);return-1!==a&&(s.inventory.equippedRelics[a].level+=1,s.inventory.equippedRelics[a].baseAtk&&(s.inventory.equippedRelics[a].baseAtk+=10),s.inventory.equippedRelics[a].baseDef&&(s.inventory.equippedRelics[a].baseDef+=5)),s}),0))},[e]),L=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s),r=t.inventory.relics.findIndex(s=>s.id===e);if(-1!==r&&t.inventory.equippedRelics.length<5){const e=t.inventory.relics[r];t.inventory.relics.splice(r,1),t.inventory.equippedRelics.push(e)}return t})},[]),D=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s),r=t.inventory.equippedRelics.findIndex(s=>s.id===e);if(-1!==r){const e=t.inventory.equippedRelics[r];t.inventory.equippedRelics.splice(r,1),t.inventory.relics.push(e)}return t})},[]),T=w.useCallback(t=>!!e&&(s(e=>{if(!e)return e;const s=o({},e);return s.inventory.relics=s.inventory.relics.filter(e=>e.id!==t),s}),!0),[e]),O=w.useCallback(()=>!!(null==e?void 0:e.dailyRewards.availableReward)&&(s(e=>{if(!(null==e?void 0:e.dailyRewards.availableReward))return e;const s=o({},e),t=s.dailyRewards.availableReward;return s.coins+=t.coins,s.gems+=t.gems,s.dailyRewards.lastClaimDate=new Date,s.dailyRewards.currentStreak+=1,s.dailyRewards.availableReward=null,s}),!0),[e]),I=w.useCallback(t=>!(!e||e.progression.skillPoints<=0||(s(e=>{if(!e||e.progression.skillPoints<=0)return e;const s=o({},e);return s.progression.skillPoints-=1,s.progression.unlockedSkills.push(t),s}),0)),[e]),z=w.useCallback(()=>!(!e||e.progression.level<50||(s(e=>{if(!e||e.progression.level<50)return e;const s=Math.floor(e.progression.level/10);return c(o({},e),{progression:{level:1,experience:0,experienceToNext:100,skillPoints:0,unlockedSkills:[],prestigeLevel:e.progression.prestigeLevel+1,prestigePoints:e.progression.prestigePoints+s,masteryLevels:e.progression.masteryLevels},coins:100,gems:0,zone:1,playerStats:{hp:100,maxHp:100,atk:10,def:5,baseAtk:10,baseDef:5,baseHp:100},inventory:{weapons:[],armor:[],relics:e.inventory.relics,currentWeapon:null,currentArmor:null,equippedRelics:e.inventory.equippedRelics},research:{level:0,totalSpent:0,availableUpgrades:["atk","def","hp"]}})}),0)),[e]),W=w.useCallback(()=>{e&&s(e=>{if(!e)return e;const s=o({},e);return s.coins+=s.offlineProgress.offlineCoins,s.gems+=s.offlineProgress.offlineGems,s.progression.experience+=s.offlineProgress.offlineExperience,s.offlineProgress.offlineCoins=0,s.offlineProgress.offlineGems=0,s.offlineProgress.offlineExperience=0,s.offlineProgress.offlineTime=0,s})},[e]),q=w.useCallback((e,t)=>{s(s=>{if(!s)return s;const r=o({},s);let n=0;return"weapon"===t?(r.inventory.weapons.filter(s=>e.includes(s.id)).forEach(e=>{n+=e.sellPrice}),r.inventory.weapons=r.inventory.weapons.filter(s=>!e.includes(s.id))):(r.inventory.armor.filter(s=>e.includes(s.id)).forEach(e=>{n+=e.sellPrice}),r.inventory.armor=r.inventory.armor.filter(s=>!e.includes(s.id))),r.coins+=n,r.statistics.coinsEarned+=n,r})},[]),U=w.useCallback((e,t)=>{s(s=>{if(!s)return s;const r=o({},s);let n=0;return"weapon"===t?e.forEach(e=>{const s=r.inventory.weapons.find(s=>s.id===e);s&&r.gems>=s.upgradeCost&&(n+=s.upgradeCost,s.level+=1,s.baseAtk+=Math.floor(.1*s.baseAtk))}):e.forEach(e=>{const s=r.inventory.armor.find(s=>s.id===e);s&&r.gems>=s.upgradeCost&&(n+=s.upgradeCost,s.level+=1,s.baseDef+=Math.floor(.1*s.baseDef))}),r.gems-=n,r})},[]),H=w.useCallback(()=>!(!e||e.coins<e.gardenOfGrowth.seedCost||(s(e=>{if(!e||e.coins<e.gardenOfGrowth.seedCost)return e;const s=o({},e);return s.coins-=s.gardenOfGrowth.seedCost,s.gardenOfGrowth.isPlanted=!0,s.gardenOfGrowth.plantedAt=new Date,s}),0)),[e]),B=w.useCallback(t=>{if(!e)return!1;const r=Math.floor(e.gardenOfGrowth.waterCost*t/24);return!(e.coins<r||(s(e=>{if(!e)return e;const s=o({},e);return s.coins-=r,s.gardenOfGrowth.waterHoursRemaining+=t,s}),0))},[e]),Z=w.useCallback(e=>{s(s=>s?c(o({},s),{settings:o(o({},s.settings),e)}):s)},[]),F=w.useCallback(e=>{s(s=>s?c(o({},s),{coins:s.coins+e}):s)},[]),Y=w.useCallback(e=>{s(s=>s?c(o({},s),{gems:s.gems+e}):s)},[]),$=w.useCallback(e=>{s(s=>s?c(o({},s),{zone:Math.max(1,e)}):s)},[]),K=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s);for(t.progression.experience=e;t.progression.experience>=t.progression.experienceToNext;)t.progression.experience-=t.progression.experienceToNext,t.progression.level+=1,t.progression.experienceToNext=100*t.progression.level,t.progression.skillPoints+=1;return t})},[]),J=w.useCallback(e=>{s(s=>{if(!s)return s;const t=o({},s);return t.adventureSkills.selectedSkill=e,t.adventureSkills.showSelectionModal=!1,t})},[]),Q=w.useCallback(()=>{s(e=>{if(!e)return e;const s=o({},e);return s.adventureSkills.showSelectionModal=!1,s})},[]),X=w.useCallback(()=>!!e&&(s(e=>{if(!e)return e;const s=o({},e);return s.adventureSkills.skillEffects.skipCardUsed=!0,s}),!0),[e]),ee=w.useCallback(()=>{if(!e||e.coins<100)return!1;const t=["coin_vacuum","treasurer","xp_surge","luck_gem","enchanter","time_warp","golden_touch","knowledge_boost","durability_master","relic_finder"],r=t[Math.floor(Math.random()*t.length)],n=new Date,a=new Date(n.getTime()+864e5),i={id:Math.random().toString(36).substr(2,9),name:r.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),description:u(r),duration:24,activatedAt:n,expiresAt:a,type:r};return s(e=>!e||e.coins<100?e:c(o({},e),{coins:e.cheats.infiniteCoins?e.coins:e.coins-100,skills:c(o({},e.skills),{activeMenuSkill:i,lastRollTime:n})})),!0},[e]),se=w.useCallback(t=>!(!e||e.gems<t||(s(e=>{if(!e||e.gems<t)return e;const s=o({},e);if(s.gems-=t,"weapon"==(Math.random()<.5?"weapon":"armor")){const e=m(!1,"mythical");s.inventory.weapons.push(e)}else{const e=x(!1,"mythical");s.inventory.armor.push(e)}return s}),0)),[e]);return{gameState:e,isLoading:t,equipWeapon:i,equipArmor:h,upgradeWeapon:g,upgradeArmor:f,sellWeapon:b,sellArmor:y,upgradeResearch:v,openChest:j,purchaseMythical:se,startCombat:k,attack:N,resetGame:S,setGameMode:C,toggleCheat:_,generateCheatItem:P,mineGem:R,exchangeShinyGems:M,discardItem:A,purchaseRelic:E,upgradeRelic:G,equipRelic:L,unequipRelic:D,sellRelic:T,claimDailyReward:O,upgradeSkill:I,prestige:z,claimOfflineRewards:W,bulkSell:q,bulkUpgrade:U,plantSeed:H,buyWater:B,updateSettings:Z,addCoins:F,addGems:Y,teleportToZone:$,setExperience:K,rollSkill:ee,selectAdventureSkill:J,skipAdventureSkills:Q,useSkipCard:X}},F=({playerStats:e,zone:s,coins:t,gems:r,shinyGems:n,playerTags:a,progression:i})=>{const l=a.filter(e=>e.unlocked);return h.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 via-slate-900/80 to-black/80 p-6 rounded-xl shadow-2xl border border-slate-600/50 backdrop-blur-sm",children:[h.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Hero Status"}),l.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"Player Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(e=>h.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${e.color} bg-black/30 border border-current/30 backdrop-blur-sm`,children:[e.icon," ",e.name]},e.id))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-indigo-500/30",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx(j,{className:"w-5 h-5 text-indigo-400"}),h.jsx("span",{className:"text-white font-semibold",children:"Character Level"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"text-indigo-400 font-bold text-2xl",children:["Lv.",i.level]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:h.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:i.experience/i.experienceToNext*100+"%"}})}),h.jsxs("p",{className:"text-xs text-gray-300 mt-2",children:[i.experience,"/",i.experienceToNext," XP"]})]}),h.jsxs("span",{className:"text-yellow-400 font-semibold bg-black/30 px-3 py-1 rounded-lg",children:["SP: ",i.skillPoints]})]})]}),h.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-red-500/30",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx(k,{className:"w-5 h-5 text-red-400"}),h.jsx("span",{className:"text-white font-semibold",children:"Health"})]}),h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:h.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-4 rounded-full transition-all duration-300",style:{width:e.hp/e.maxHp*100+"%"}})}),h.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center font-semibold",children:[e.hp,"/",e.maxHp]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-orange-500/30",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(N,{className:"w-4 h-4 text-orange-400"}),h.jsx("span",{className:"text-white font-semibold text-sm",children:"Attack"})]}),h.jsx("p",{className:"text-2xl font-bold text-orange-400",children:e.atk})]}),h.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-blue-500/30",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(S,{className:"w-4 h-4 text-blue-400"}),h.jsx("span",{className:"text-white font-semibold text-sm",children:"Defense"})]}),h.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.def})]})]}),h.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-green-500/30",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(C,{className:"w-5 h-5 text-green-400"}),h.jsx("span",{className:"text-white font-semibold",children:"Current Zone"})]}),h.jsx("p",{className:"text-3xl font-bold text-green-400 text-center",children:s}),s>=10&&h.jsx("p",{className:"text-xs text-green-300 mt-2 text-center bg-green-900/30 py-1 px-2 rounded-lg",children:"Enemies can drop items!"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-yellow-500/30",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(_,{className:"w-4 h-4 text-yellow-400"}),h.jsx("span",{className:"text-white font-semibold text-xs",children:"Coins"})]}),h.jsx("p",{className:"text-lg font-bold text-yellow-400 text-center",children:t.toLocaleString()})]}),h.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-purple-500/30",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(P,{className:"w-4 h-4 text-purple-400"}),h.jsx("span",{className:"text-white font-semibold text-xs",children:"Gems"})]}),h.jsx("p",{className:"text-lg font-bold text-purple-400 text-center",children:r.toLocaleString()})]}),h.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-yellow-500/30",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(R,{className:"w-4 h-4 text-yellow-400"}),h.jsx("span",{className:"text-white font-semibold text-xs",children:"Shiny"})]}),h.jsx("p",{className:"text-lg font-bold text-yellow-400 text-center",children:n.toLocaleString()})]})]})]})]})},Y=({research:e,coins:s,onUpgradeResearch:t,isPremium:r})=>{const[n,a]=w.useState(!1),i=g(e.level),l=f(e.level),o=f(e.level+1),c=[{key:"atk",name:"Attack Research",icon:N,color:"text-orange-400",bgColor:"bg-orange-900/30",borderColor:"border-orange-500/50",description:"Increase your attack power by 10%"},{key:"def",name:"Defense Research",icon:S,color:"text-blue-400",bgColor:"bg-blue-900/30",borderColor:"border-blue-500/50",description:"Increase your defense power by 10%"},{key:"hp",name:"Health Research",icon:k,color:"text-red-400",bgColor:"bg-red-900/30",borderColor:"border-red-500/50",description:"Increase your maximum health by 10%"}];return h.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx(M,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-400"}),h.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Research Laboratory"})]}),h.jsx("p",{className:"text-blue-300 text-sm sm:text-base",children:"Advance your knowledge and power"})]}),h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2 border-purple-500/50 bg-purple-900/30",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx(M,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 text-purple-400"}),h.jsx("h3",{className:"font-bold text-lg sm:text-xl text-purple-400",children:"Universal Research"}),h.jsx("p",{className:"text-gray-300 text-sm mt-2",children:"Choose your path of advancement"})]}),h.jsxs("div",{className:"space-y-3 mb-4",children:[h.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(j,{className:"w-4 h-4 text-green-400"}),h.jsx("span",{className:"text-white font-semibold text-sm",children:"Research Level"})]}),h.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.level})]}),h.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(j,{className:"w-4 h-4 text-yellow-400"}),h.jsx("span",{className:"text-white font-semibold text-sm",children:"Current Bonus"})]}),h.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["+",l,"%"]})]})]}),h.jsxs("div",{className:"bg-black/40 p-4 rounded-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-semibold text-sm",children:"Next Level"}),h.jsxs("p",{className:"text-gray-300 text-xs",children:["Bonus: +",l,"% â†’ +",o,"%"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[h.jsx(_,{className:"w-4 h-4"}),h.jsx("span",{className:"font-semibold text-sm",children:i})]})]}),h.jsx("button",{onClick:()=>a(!0),disabled:s<i,className:"w-full py-3 rounded-lg font-bold transition-all duration-200 text-sm "+(s>=i?"bg-gradient-to-r from-purple-600 to-purple-500 text-white hover:scale-105 shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:s>=i?"Choose Upgrade Path":"Insufficient Coins"}),h.jsx("div",{className:"mt-3 text-center",children:h.jsxs("p",{className:"text-xs text-gray-300",children:["Total spent: ",e.totalSpent," coins"]})})]})]})}),n&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-indigo-900 p-6 rounded-lg border border-purple-500/50 max-w-2xl w-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-white font-bold text-xl",children:"Choose Your Research Path"}),h.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-white transition-colors",children:h.jsx(A,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:c.map(e=>{const s=e.icon;return h.jsx("button",{onClick:()=>{return s=e.key,t(s),void a(!1);var s},className:`p-4 rounded-lg border-2 ${e.borderColor} ${e.bgColor} hover:scale-105 transition-all duration-200`,children:h.jsxs("div",{className:"text-center",children:[h.jsx(s,{className:`w-12 h-12 mx-auto mb-3 ${e.color}`}),h.jsx("h4",{className:`font-bold text-lg ${e.color} mb-2`,children:e.name}),h.jsx("p",{className:"text-gray-300 text-sm",children:e.description})]})},e.key)})}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx("p",{className:"text-gray-300 text-sm",children:"Each upgrade provides a permanent 10% bonus to the selected stat"})})]})}),h.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:h.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Research provides permanent stat bonuses. Choose wisely!"})})]})},$=({mining:e,gems:s,shinyGems:t,onMineGem:r,onExchangeShinyGems:n})=>{const[a,i]=w.useState(null),[l,o]=w.useState(!1),[c,d]=w.useState(0);w.useEffect(()=>{if(!a){const e=Math.random()<.05;i({isShiny:e})}},[a]);const m=e=>{n(e)||alert("Not enough shiny gems!")};return h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-slate-900 to-gray-800 p-4 sm:p-6 rounded-lg shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx(P,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-400"}),h.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Gem Mining"})]}),h.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Click the gem node to mine it!"}),h.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[h.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}),h.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[s," Gems"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[h.jsx(R,{className:"w-4 h-4 sm:w-5 sm:h-5"}),h.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[t," Shiny"]})]})]})]}),h.jsxs("div",{className:"mb-4 sm:mb-6",children:[h.jsx("h3",{className:"text-white font-semibold mb-3 text-center text-sm sm:text-base",children:"Mining Node"}),h.jsx("div",{className:"flex justify-center",children:h.jsxs("div",{onClick:()=>{const e=Date.now();e-c<0||!a||(d(e),r(0,0)&&(i(null),setTimeout(()=>{const e=Math.random()<.05;i({isShiny:e})},500)))},className:"w-24 h-24 sm:w-32 sm:h-32 border-4 rounded-xl cursor-pointer transition-all duration-200 relative overflow-hidden "+(a?a.isShiny?"border-yellow-400 bg-gradient-to-br from-yellow-900 to-orange-900 hover:from-yellow-800 hover:to-orange-800 shadow-lg shadow-yellow-500/50 animate-pulse":"border-purple-400 bg-gradient-to-br from-purple-900 to-indigo-900 hover:from-purple-800 hover:to-indigo-800 shadow-lg shadow-purple-500/30":"border-gray-600 bg-gray-800 hover:bg-gray-700"),children:[a&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.isShiny?h.jsx(R,{className:"w-8 h-8 sm:w-12 sm:h-12 text-yellow-400 animate-bounce"}):h.jsx(P,{className:"w-8 h-8 sm:w-12 sm:h-12 text-purple-400"})}),!a&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-gray-400 border-t-transparent rounded-full"})})]})}),h.jsxs("div",{className:"text-center text-gray-400 text-xs sm:text-sm mt-3 space-y-1",children:[h.jsx("p",{children:"ðŸ’Ž Purple gems = 1 gem | âœ¨ Golden gems = 1 shiny gem (5% chance)"}),h.jsx("p",{children:"Click to mine instantly! New gems appear automatically."}),!a&&h.jsx("p",{className:"text-yellow-400",children:"Generating new gem node..."})]})]}),h.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-4",children:[h.jsx("h3",{className:"text-white font-semibold mb-3 text-center",children:"Mining Statistics"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-purple-400 font-semibold",children:"Total Gems Mined"}),h.jsx("p",{className:"text-white text-xl font-bold",children:e.totalGemsMined})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-yellow-400 font-semibold",children:"Shiny Gems Found"}),h.jsx("p",{className:"text-white text-xl font-bold",children:e.totalShinyGemsMined})]})]})]}),h.jsx("div",{className:"text-center",children:h.jsxs("button",{onClick:()=>o(!0),className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-all duration-200 flex items-center gap-2 mx-auto text-sm sm:text-base",children:[h.jsx(R,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Shiny Exchange"]})}),l&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gradient-to-br from-yellow-900 to-orange-900 p-4 sm:p-6 rounded-lg border border-yellow-500/50 max-w-md w-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(R,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-400"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-white font-bold text-lg sm:text-xl",children:"Shiny Exchange"}),h.jsx("p",{className:"text-yellow-300 text-sm",children:"Convert shiny gems to regular gems"})]})]}),h.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:h.jsx(A,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-black/30 p-4 rounded-lg",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx(R,{className:"w-6 h-6 text-yellow-400"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"Exchange Rate"})]}),h.jsx("p",{className:"text-yellow-300 text-xl font-bold",children:"1 Shiny Gem = 10 Regular Gems"})]}),h.jsx("div",{className:"text-center mb-4",children:h.jsxs("p",{className:"text-white",children:["You have: ",h.jsx("span",{className:"font-bold text-yellow-400",children:t})," shiny gems"]})}),h.jsxs("div",{className:"space-y-3",children:[[1,5,10].map(e=>h.jsxs("button",{onClick:()=>m(e),disabled:t<e,className:"w-full py-2 rounded-lg font-semibold transition-all text-sm "+(t>=e?"bg-yellow-600 text-white hover:bg-yellow-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:["Exchange ",e," Shiny â†’ ",10*e," Gems"]},e)),t>0&&h.jsxs("button",{onClick:()=>m(t),className:"w-full py-2 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-all text-sm",children:["Exchange All (",t," â†’ ",10*t," Gems)"]})]})]})}),h.jsx("div",{className:"mt-4 text-center",children:h.jsx("p",{className:"text-yellow-300 text-xs",children:"âœ¨ Shiny gems are rare and valuable! Use them wisely."})})]})})]})},K=()=>{const e=[{Icon:_,color:"text-yellow-400",delay:"0s",position:{top:"10%",left:"5%"}},{Icon:P,color:"text-purple-400",delay:"1s",position:{top:"20%",right:"10%"}},{Icon:N,color:"text-orange-400",delay:"2s",position:{top:"60%",left:"8%"}},{Icon:S,color:"text-blue-400",delay:"3s",position:{bottom:"15%",right:"5%"}},{Icon:k,color:"text-red-400",delay:"4s",position:{top:"40%",left:"15%"}},{Icon:M,color:"text-indigo-400",delay:"5s",position:{top:"70%",right:"15%"}},{Icon:E,color:"text-green-400",delay:"6s",position:{bottom:"40%",left:"3%"}},{Icon:G,color:"text-amber-400",delay:"7s",position:{top:"80%",right:"8%"}}];return h.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[e.map(({Icon:e,color:s,delay:t,position:r},n)=>h.jsx("div",{className:`absolute ${s} opacity-10`,style:c(o({},r),{animation:"float 6s ease-in-out infinite",animationDelay:t}),children:h.jsx(e,{className:"w-8 h-8 sm:w-12 sm:h-12"})},n)),h.jsx("div",{className:"absolute text-slate-400 opacity-5",style:{top:"30%",right:"20%",animation:"float 8s ease-in-out infinite",animationDelay:"2s"},children:h.jsx("span",{className:"text-6xl",children:"â™ž"})}),h.jsx("style",{jsx:!0,children:"\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px) rotate(0deg);\n          }\n          25% {\n            transform: translateY(-20px) rotate(5deg);\n          }\n          50% {\n            transform: translateY(-10px) rotate(-5deg);\n          }\n          75% {\n            transform: translateY(-15px) rotate(3deg);\n          }\n        }\n      "})]})},J=()=>{const[e,s]=w.useState(null),[t,r]=w.useState(!1),[n,a]=w.useState(!1);w.useEffect(()=>{const e=window.matchMedia("(display-mode: standalone)").matches,t=!0===window.navigator.standalone;a(e||t);const n=e=>{e.preventDefault(),s(e),r(!0)},i=()=>{a(!0),r(!1),s(null)};return window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",i),()=>{window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("appinstalled",i)}},[]);const i=()=>{r(!1)};return!n&&t&&e?h.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(L,{className:"w-6 h-6 text-yellow-400"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-sm",children:"Install Hugoland"}),h.jsx("p",{className:"text-xs opacity-90",children:"Play offline & get the full experience!"})]})]}),h.jsx("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors",children:h.jsx(A,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex gap-2 mt-3",children:[h.jsx("button",{onClick:()=>d(null,null,function*(){if(!e)return;e.prompt();const{outcome:t}=yield e.userChoice;s(null),r(!1)}),className:"flex-1 bg-white/20 hover:bg-white/30 text-white font-semibold py-2 px-4 rounded transition-colors text-sm",children:"Install App"}),h.jsx("button",{onClick:i,className:"px-4 py-2 text-white/70 hover:text-white transition-colors text-sm",children:"Later"})]})]}):null};w.lazy(()=>H(()=>import("./utility-components-B5y5KYIu.js").then(e=>e.a),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Statistics}))),w.lazy(()=>H(()=>import("./utility-components-B5y5KYIu.js").then(e=>e.b),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Achievements})));const Q=w.lazy(()=>H(()=>import("./utility-components-B5y5KYIu.js").then(e=>e.C),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.CollectionBook}))),X=w.lazy(()=>H(()=>import("./EnhancedGameModes-nfjZykWE.js"),__vite__mapDeps([4,1,2,3])).then(e=>({default:e.EnhancedGameModes}))),ee=w.lazy(()=>H(()=>import("./PokyegMarket-B27bYK_S.js"),__vite__mapDeps([5,1,2,3])).then(e=>({default:e.PokyegMarket}))),se=w.lazy(()=>H(()=>import("./Tutorial-BtqpsvHG.js"),__vite__mapDeps([6,1,2,3])).then(e=>({default:e.Tutorial}))),te=w.lazy(()=>H(()=>import("./CheatPanel-C1drVpsh.js"),__vite__mapDeps([7,1,2,3])).then(e=>({default:e.CheatPanel}))),re=w.lazy(()=>H(()=>import("./DailyRewards-lG4SLb5S.js"),__vite__mapDeps([8,1,2,3])).then(e=>({default:e.DailyRewards}))),ne=w.lazy(()=>H(()=>import("./OfflineProgress-CshBdjgC.js"),__vite__mapDeps([9,1,2,3])).then(e=>({default:e.OfflineProgress}))),ae=w.lazy(()=>H(()=>import("./BulkActions-CEYkr2dR.js"),__vite__mapDeps([10,1,2,3])).then(e=>({default:e.BulkActions}))),ie=w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.H),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.HamburgerMenuPage})));w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.G),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.GardenOfGrowth}))),w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.a),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.GameSettings}))),w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.D),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.DevTools}))),w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.S),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.Skills}))),w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.Y),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.YojefMarket}))),w.lazy(()=>H(()=>import("./menu-components-Bsuq7OBp.js").then(e=>e.P),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.ProgressionPanel})));const le=w.lazy(()=>H(()=>import("./AdventureSkillSelection-CJ6q5wLT.js"),__vite__mapDeps([12,1,2,3])).then(e=>({default:e.AdventureSkillSelection}))),oe=()=>h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-4"}),h.jsx("p",{className:"text-white text-lg font-semibold",children:"Loading..."})]})});function ce(){var e;const{gameState:s,isLoading:t,equipWeapon:r,equipArmor:n,upgradeWeapon:a,upgradeArmor:i,sellWeapon:l,sellArmor:o,upgradeResearch:c,openChest:d,purchaseMythical:m,startCombat:x,attack:p,resetGame:u,setGameMode:g,toggleCheat:f,generateCheatItem:j,mineGem:k,exchangeShinyGems:N,discardItem:C,purchaseRelic:_,upgradeRelic:P,equipRelic:R,unequipRelic:A,sellRelic:L,claimDailyReward:U,upgradeSkill:H,prestige:B,claimOfflineRewards:V,bulkSell:ce,bulkUpgrade:de,plantSeed:me,buyWater:xe,updateSettings:pe,addCoins:ue,addGems:he,teleportToZone:ge,setExperience:fe,rollSkill:be,selectAdventureSkill:ye,skipAdventureSkills:ve,useSkipCard:we}=Z(),[je,ke]=w.useState("stats"),[Ne,Se]=w.useState(null),[Ce,_e]=w.useState(!0);if(t)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-6"}),h.jsx("p",{className:"text-white text-xl font-semibold",children:"Loading Hugoland..."}),h.jsx("p",{className:"text-purple-300 text-sm mt-2",children:"Preparing your adventure..."})]})});if((null==(e=null==s?void 0:s.adventureSkills)?void 0:e.showSelectionModal)&&!s.inCombat)return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[h.jsx(K,{}),h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(le,{availableSkills:s.adventureSkills.availableSkills,onSelectSkill:ye,onSkipSkills:ve})})]});if(s.inCombat||(s.offlineProgress.offlineCoins>0||s.offlineProgress.offlineGems>0?"offlineProgress"!==Ne&&Se("offlineProgress"):s.dailyRewards.availableReward&&"dailyRewards"!==Ne&&Se("dailyRewards")),Ce&&1===s.zone&&100===s.coins)return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[h.jsx(K,{}),h.jsxs("div",{className:"text-center max-w-lg mx-auto relative z-10",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-6 leading-tight",children:["ðŸ° Welcome to",h.jsx("br",{}),"Hugoland! ðŸ—¡ï¸"]}),h.jsx("p",{className:"text-purple-300 text-lg sm:text-xl mb-8 leading-relaxed",children:"The ultimate fantasy adventure game where knowledge is your greatest weapon!"}),h.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-6 rounded-xl border border-purple-500/30 mb-8",children:[h.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"ðŸŽ® What awaits you:"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-purple-200",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-green-400",children:"â€¢"}),h.jsx("span",{children:"Answer trivia questions to defeat enemies"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-blue-400",children:"â€¢"}),h.jsx("span",{children:"Collect powerful weapons and armor"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-purple-400",children:"â€¢"}),h.jsx("span",{children:"Mine gems and find rare treasures"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-yellow-400",children:"â€¢"}),h.jsx("span",{children:"Unlock achievements and streaks"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-red-400",children:"â€¢"}),h.jsx("span",{children:"Explore multiple game modes"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-cyan-400",children:"â€¢"}),h.jsx("span",{children:"Progress through infinite zones"})]})]})]})]}),h.jsxs("button",{onClick:()=>_e(!1),className:"w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl hover:from-purple-500 hover:to-indigo-500 transition-all duration-300 transform hover:scale-105 flex items-center gap-3 justify-center text-lg shadow-lg shadow-purple-500/25",children:[h.jsx(D,{className:"w-6 h-6"}),"Start Your Adventure"]}),h.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Begin your journey in the magical world of Hugoland"})]})]});const Pe=()=>{Se("resetConfirm")},Re=()=>{u(),Se(null)};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative",children:[h.jsx(K,{}),h.jsx(J,{}),h.jsx("div",{className:"bg-gradient-to-r from-purple-800 via-violet-800 to-purple-800 shadow-2xl relative z-10 border-b border-purple-500/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white",children:"ðŸ° Hugoland ðŸ—¡ï¸"}),s.isPremium&&h.jsx(T,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-yellow-400 animate-pulse"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[!s.inCombat&&"menu"!==je&&h.jsxs("button",{onClick:()=>Se("bulkActions"),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-all duration-200 text-sm shadow-md",children:[h.jsx(E,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Bulk"})]}),h.jsxs("button",{onClick:()=>ke("menu"),className:"flex items-center gap-2 px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-200 text-sm shadow-md",children:[h.jsx(O,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Menu"})]})]})]}),!s.inCombat&&"menu"!==je&&h.jsx("div",{className:"flex justify-center items-center gap-4 mb-4 text-sm",children:s.dailyRewards.availableReward&&h.jsxs("button",{onClick:()=>Se("dailyRewards"),className:"flex items-center gap-2 text-green-300 hover:text-green-200 transition-colors animate-pulse px-3 py-1 rounded-lg hover:bg-white/10",children:[h.jsx(I,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Daily Reward!"})]})}),"menu"!==je&&h.jsx("nav",{className:"flex justify-center",children:h.jsx("div",{className:"flex space-x-2 bg-black/20 p-2 rounded-xl backdrop-blur-sm border border-white/10",children:[{id:"stats",label:"Hero",icon:z},{id:"research",label:"Research",icon:M},{id:"shop",label:"Shop",icon:E},{id:"inventory",label:"Inventory",icon:S},{id:"mining",label:"Mining",icon:G}].map(({id:e,label:t,icon:r})=>h.jsxs("button",{onClick:()=>ke(e),disabled:s.inCombat,className:"px-3 sm:px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center gap-2 text-sm whitespace-nowrap "+(je===e?"bg-white text-purple-800 shadow-lg":s.inCombat?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-purple-700 text-white hover:bg-purple-600 hover:scale-105"),children:[h.jsx(r,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:t})]},e))})}),"menu"===je&&h.jsx("div",{className:"flex justify-center",children:h.jsxs("button",{onClick:()=>ke("stats"),className:"flex items-center gap-2 px-4 py-2 bg-purple-700 text-white rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md",children:[h.jsx(W,{className:"w-4 h-4"}),"Back to Game"]})})]})}),h.jsx("div",{className:"container mx-auto px-4 py-6 sm:py-8 relative z-10",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:(()=>{if(s.inCombat&&s.currentEnemy)return h.jsx(b,{enemy:s.currentEnemy,playerStats:s.playerStats,onAttack:p,combatLog:s.combatLog,gameMode:s.gameMode,knowledgeStreak:s.knowledgeStreak,hasUsedRevival:s.hasUsedRevival,adventureSkills:s.adventureSkills,onUseSkipCard:we});switch(je){case"menu":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(ie,{gameState:s,onPlantSeed:me,onBuyWater:xe,onUpgradeSkill:H,onPrestige:B,onUpdateSettings:pe,onAddCoins:ue,onAddGems:he,onTeleportToZone:ge,onSetExperience:fe,onRollSkill:be,onPurchaseRelic:_,onBack:()=>ke("stats")})});case"stats":return h.jsxs("div",{className:"space-y-6",children:[h.jsx(F,{playerStats:s.playerStats,zone:s.zone,coins:s.coins,gems:s.gems,shinyGems:s.shinyGems,playerTags:s.playerTags,progression:s.progression}),s.gardenOfGrowth.isPlanted&&h.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 p-4 sm:p-6 rounded-xl border border-green-500/50 backdrop-blur-sm",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl",children:"ðŸŒ±"}),"Garden of Growth"]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[h.jsx("p",{className:"text-green-300 font-semibold text-sm",children:"Growth"}),h.jsxs("p",{className:"text-white text-xl font-bold",children:[s.gardenOfGrowth.growthCm.toFixed(1),"cm"]})]}),h.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[h.jsx("p",{className:"text-blue-300 font-semibold text-sm",children:"Stat Bonus"}),h.jsxs("p",{className:"text-white text-xl font-bold",children:["+",s.gardenOfGrowth.totalGrowthBonus.toFixed(1),"%"]})]}),h.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[h.jsx("p",{className:"text-cyan-300 font-semibold text-sm",children:"Water Left"}),h.jsxs("p",{className:"text-white text-xl font-bold",children:[s.gardenOfGrowth.waterHoursRemaining.toFixed(1),"h"]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:h.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(s.gardenOfGrowth.growthCm/s.gardenOfGrowth.maxGrowthCm*100,100)}%`}})}),h.jsxs("p",{className:"text-center text-gray-300 text-sm mt-2",children:["Progress to maximum growth (",s.gardenOfGrowth.maxGrowthCm,"cm)"]})]})]}),s.knowledgeStreak.current>0&&h.jsx("div",{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 p-4 sm:p-6 rounded-xl border border-yellow-500/50 backdrop-blur-sm",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[h.jsx("span",{className:"text-3xl animate-pulse",children:"ðŸ”¥"}),h.jsx("h3",{className:"text-yellow-400 font-bold text-xl",children:"Knowledge Streak!"})]}),h.jsxs("p",{className:"text-white text-lg mb-2",children:[s.knowledgeStreak.current," correct answers in a row"]}),h.jsxs("p",{className:"text-yellow-300 font-semibold",children:["+",Math.round(100*(s.knowledgeStreak.multiplier-1)),"% reward bonus"]})]})}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsxs("button",{onClick:x,disabled:s.playerStats.hp<=0||"survival"===s.gameMode.current&&s.gameMode.survivalLives<=0,className:"w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-white transition-all duration-300 transform flex items-center gap-3 justify-center text-lg shadow-lg "+(s.playerStats.hp>0&&("survival"!==s.gameMode.current||s.gameMode.survivalLives>0)?"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 hover:scale-105 shadow-green-500/25":"bg-gray-600 cursor-not-allowed opacity-50"),children:[h.jsx(D,{className:"w-6 h-6"}),s.playerStats.hp<=0?"You are defeated!":"survival"===s.gameMode.current&&s.gameMode.survivalLives<=0?"No lives remaining!":"Start Adventure"]}),(s.playerStats.hp<=0||"survival"===s.gameMode.current&&s.gameMode.survivalLives<=0)&&h.jsx("div",{className:"bg-red-900/30 p-4 rounded-lg border border-red-500/50",children:h.jsx("p",{className:"text-red-400 text-sm",children:"survival"===s.gameMode.current&&s.gameMode.survivalLives<=0?"Change game mode or reset to continue!":"Visit the shop to get better equipment and try again!"})}),s.isPremium&&h.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-500/20 p-4 rounded-xl border border-yellow-500/50 backdrop-blur-sm",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[h.jsx(T,{className:"w-6 h-6 text-yellow-400"}),h.jsx("span",{className:"text-white font-bold text-lg",children:"ðŸŽ‰ PREMIUM MEMBER! ðŸŽ‰"})]}),h.jsx("p",{className:"text-yellow-100 text-sm",children:"You've reached Zone 50! Enjoy exclusive rewards and special features!"})]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[h.jsxs("button",{onClick:()=>Se("gameMode"),className:"px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 transition-all duration-200 flex items-center gap-2 text-sm shadow-md",children:[h.jsx(D,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Game Mode"})]}),h.jsxs("button",{onClick:()=>Se("dailyRewards"),className:"px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 transition-all duration-200 flex items-center gap-2 text-sm shadow-md",children:[h.jsx(I,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Daily Rewards"})]}),h.jsxs("button",{onClick:Pe,className:"px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 transition-all duration-200 flex items-center gap-2 text-sm shadow-md",children:[h.jsx(q,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Reset Game"})]})]})]})]});case"shop":return h.jsx(v,{coins:s.coins,onOpenChest:d,onDiscardItem:C,isPremium:s.isPremium});case"inventory":return h.jsx(y,{inventory:s.inventory,gems:s.gems,onEquipWeapon:r,onEquipArmor:n,onUpgradeWeapon:a,onUpgradeArmor:i,onSellWeapon:l,onSellArmor:o,onUpgradeRelic:P,onEquipRelic:R,onUnequipRelic:A,onSellRelic:L});case"research":return h.jsx(Y,{research:s.research,coins:s.coins,onUpgradeResearch:c,isPremium:s.isPremium});case"mining":return h.jsx($,{mining:s.mining,gems:s.gems,shinyGems:s.shinyGems,onMineGem:k,onExchangeShinyGems:N});default:return null}})()})}),(()=>{if(s.inCombat&&"resetConfirm"!==Ne)return null;switch(Ne){case"collection":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(Q,{collectionBook:s.collectionBook,allWeapons:s.inventory.weapons,allArmor:s.inventory.armor,onClose:()=>Se(null)})});case"gameMode":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(X,{currentMode:s.gameMode,onSelectMode:g,onClose:()=>Se(null)})});case"pokyegMarket":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(ee,{coins:s.coins,onPurchaseMythical:m,onClose:()=>Se(null)})});case"tutorial":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(se,{onClose:()=>Se(null)})});case"cheats":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(te,{cheats:s.cheats,onToggleCheat:f,onGenerateItem:j,onClose:()=>Se(null)})});case"dailyRewards":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(re,{dailyRewards:s.dailyRewards,onClaimReward:U,onClose:()=>Se(null)})});case"offlineProgress":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(ne,{offlineProgress:s.offlineProgress,onClaimOfflineRewards:V,onClose:()=>Se(null)})});case"bulkActions":return h.jsx(w.Suspense,{fallback:h.jsx(oe,{}),children:h.jsx(ae,{weapons:s.inventory.weapons,armor:s.inventory.armor,gems:s.gems,onBulkSell:ce,onBulkUpgrade:de,onClose:()=>Se(null)})});case"resetConfirm":return h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-gradient-to-br from-red-900 to-gray-900 p-6 rounded-xl border border-red-500/50 max-w-md w-full backdrop-blur-sm",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(q,{className:"w-8 h-8 text-white"})}),h.jsx("h2",{className:"text-white font-bold text-xl mb-4",children:"Reset Game?"}),h.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Are you sure you want to reset your game? This will permanently delete all your progress."}),h.jsxs("div",{className:"bg-black/30 p-3 rounded-lg mb-6 text-left",children:[h.jsx("p",{className:"text-red-400 font-bold text-sm mb-2",children:"This action cannot be undone!"}),h.jsxs("ul",{className:"text-red-300 text-xs space-y-1",children:[h.jsx("li",{children:"â€¢ All coins, gems, and items will be lost"}),h.jsx("li",{children:"â€¢ Zone progress and achievements will be reset"}),h.jsx("li",{children:"â€¢ Research levels and statistics will be cleared"}),h.jsx("li",{children:"â€¢ Character level and skills will be reset"})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>Se(null),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:Re,className:"flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-500 transition-colors font-bold",children:"Reset Game"})]})]})})});default:return null}})()]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{e.addEventListener("updatefound",()=>{const s=e.installing;s&&s.addEventListener("statechange",()=>{"installed"===s.state&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()})})}).catch(e=>{})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault()}),window.addEventListener("appinstalled",()=>{}),r.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(ce,{})}))}},function(){return V||(0,B[r(B)[0]])((V={exports:{}}).exports,V),V.exports});export default Z();
